(this.webpackJsonppop_fe=this.webpackJsonppop_fe||[]).push([[11],{1476:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(61),r=a(164),c=a(162),i=a(4),l=a(0),s=a.n(l),o=a(60),d=a(1423),u=a(82),b=a(11),j=a(1);var p=function(e){var t=Object(o.a)(),a=Object(b.d)(Object(u.b)(t.palette.primary.main));return Object(j.jsx)("div",{className:e.classes.header,children:e.header&&Object(j.jsx)(d.a,{theme:a,children:e.header})})},f=a(16),m=a(9),h=a(148),x=a(1464),O=a(1468);var g=function(e){var t=Object(o.a)(),a=Object(b.d)(Object(u.b)(t.palette.primary.main)),n=e.classes;return Object(j.jsxs)(j.Fragment,{children:[e.header&&Object(j.jsx)(d.a,{theme:a,children:Object(j.jsx)("div",{className:Object(i.default)(n.sidebarHeader,e.variant),children:e.header})}),e.content&&Object(j.jsx)(r.a,{className:n.sidebarContent,enable:e.innerScroll,children:e.content})]})};function v(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),r=n[0],c=n[1],s=e.classes;Object(l.useImperativeHandle)(t,(function(){return{toggleSidebar:o}}));var o=function(){c(!r)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{lgUp:"permanent"===e.variant,children:Object(j.jsx)(O.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return o()},disableSwipeToOpen:!0,classes:{root:Object(i.default)(s.sidebarWrapper,e.variant),paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"},children:Object(j.jsx)(g,Object(f.a)({},e))})}),"permanent"===e.variant&&Object(j.jsx)(x.a,{mdDown:!0,children:Object(j.jsx)(h.a,{variant:"permanent",className:Object(i.default)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},children:Object(j.jsx)(g,Object(f.a)({},e))})})]})}var y=s.a.forwardRef(v),S=200,N=Object(c.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:S,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:S,minHeight:S,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),w=s.a.forwardRef((function(e,t){var a=Object(l.useRef)(null),n=Object(l.useRef)(null),c=Object(l.useRef)(null),o=N(e),d=e.rightSidebarHeader||e.rightSidebarContent,u=e.leftSidebarHeader||e.leftSidebarContent;return s.a.useImperativeHandle(t,(function(){return{rootRef:c,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),Object(j.jsxs)("div",{className:Object(i.default)(o.root,e.innerScroll&&o.innerScroll),ref:c,children:[Object(j.jsx)("div",{className:o.topBg}),Object(j.jsxs)("div",{className:"flex container w-full",children:[u&&Object(j.jsx)(y,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:o,ref:a,rootRef:c}),Object(j.jsxs)("div",{className:Object(i.default)(o.contentWrapper,u&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0"),children:[Object(j.jsx)(p,{header:e.header,classes:o}),Object(j.jsxs)("div",{className:Object(i.default)(o.contentCard,e.innerScroll&&"inner-scroll"),children:[e.contentToolbar&&Object(j.jsx)("div",{className:o.toolbar,children:e.contentToolbar}),e.content&&Object(j.jsx)(r.a,{className:o.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll,children:e.content})]})]}),d&&Object(j.jsx)(y,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:o,ref:n,rootRef:c})]})]})}));w.defaultProps={};var k=s.a.memo(w)},1529:function(e,t,a){var n=a(1603);e.exports=j,e.exports.parse=c,e.exports.compile=function(e,t){return l(c(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=b;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(e,t){for(var a,n=[],c=0,i=0,l="",d=t&&t.delimiter||"/";null!=(a=r.exec(e));){var u=a[0],b=a[1],j=a.index;if(l+=e.slice(i,j),i=j+u.length,b)l+=b[1];else{var p=e[i],f=a[2],m=a[3],h=a[4],x=a[5],O=a[6],g=a[7];l&&(n.push(l),l="");var v=null!=f&&null!=p&&p!==f,y="+"===O||"*"===O,S="?"===O||"*"===O,N=a[2]||d,w=h||x;n.push({name:m||c++,prefix:f||"",delimiter:N,optional:S,repeat:y,partial:v,asterisk:!!g,pattern:w?o(w):g?".*":"[^"+s(N)+"]+?"})}}return i<e.length&&(l+=e.substr(i)),l&&n.push(l),n}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var a=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(a[r]=new RegExp("^(?:"+e[r].pattern+")$",u(t)));return function(t,r){for(var c="",l=t||{},s=(r||{}).pretty?i:encodeURIComponent,o=0;o<e.length;o++){var d=e[o];if("string"!==typeof d){var u,b=l[d.name];if(null==b){if(d.optional){d.partial&&(c+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(n(b)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(0===b.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var j=0;j<b.length;j++){if(u=s(b[j]),!a[o].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");c+=(0===j?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(b).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(b),!a[o].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');c+=d.prefix+u}}else c+=d}return c}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function o(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function b(e,t,a){n(t)||(a=t||a,t=[]);for(var r=(a=a||{}).strict,c=!1!==a.end,i="",l=0;l<e.length;l++){var o=e[l];if("string"===typeof o)i+=s(o);else{var b=s(o.prefix),j="(?:"+o.pattern+")";t.push(o),o.repeat&&(j+="(?:"+b+j+")*"),i+=j=o.optional?o.partial?b+"("+j+")?":"(?:"+b+"("+j+"))?":b+"("+j+")"}}var p=s(a.delimiter||"/"),f=i.slice(-p.length)===p;return r||(i=(f?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=c?"$":r&&f?"":"(?="+p+"|$)",d(new RegExp("^"+i,u(a)),t)}function j(e,t,a){return n(t)||(a=t||a,t=[]),a=a||{},e instanceof RegExp?function(e,t){var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):n(e)?function(e,t,a){for(var n=[],r=0;r<e.length;r++)n.push(j(e[r],t,a).source);return d(new RegExp("(?:"+n.join("|")+")",u(a)),t)}(e,t,a):function(e,t,a){return b(c(e,a),t,a)}(e,t,a)}},1603:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1604:function(e,t,a){var n=a(1605),r=a(1606),c=a(775),i=a(1607);e.exports=function(e,t){return n(e)||r(e,t)||c(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},1605:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},1606:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,c=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},1607:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},1723:function(e,t,a){"use strict";a.r(t);var n=a(1476),r=a(530),c=a(0),i=a(11),l=a(63),s=a(9),o=a(149),d=a(31),u=a(1472),b=a(1441),j=a(1425),p=a(521),f=a(163),m=a(234),h=a(162),x=a(4),O=a(1),g=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var v,y=function(e){var t=g();return Object(O.jsxs)("div",{className:Object(x.default)(t.root,e.className),children:[Object(O.jsx)("div",{className:t.color,style:{backgroundColor:e.color}}),Object(O.jsx)("div",{children:e.title})]})},S=a(61),N=a(12),w=a.n(N),k=a(50),C=a(52),I=a(93),A=a.n(I),M=Object(C.b)("mailApp/labels/getLabels",Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/mail-app/labels");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),R=Object(C.c)({}),E=R.getSelectors((function(e){return e.mailApp.labels})),T=E.selectAll,P=E.selectEntities,L=(E.selectById,Object(C.d)({name:"mailApp/labels",initialState:R.getInitialState(null),reducers:{},extraReducers:Object(S.a)({},M.fulfilled,R.setAll)}).reducer),_=a(16),B=a(67),D=Object(C.b)("mailApp/mail/getMail",function(){var e=Object(k.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/mail-app/mail",{params:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(C.b)("mailApp/mail/updateMail",function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,i,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,r=a.dispatch,c=n().mailApp.mail.id,e.next=4,A.a.post("/api/mail-app/update-mail",Object(_.a)({id:c},t));case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,r(Object(B.c)({message:"Mail Saved"})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),z=Object(C.d)({name:"mailApp/mail",initialState:null,reducers:{},extraReducers:(v={},Object(S.a)(v,D.fulfilled,(function(e,t){return t.payload})),Object(S.a)(v,H.fulfilled,(function(e,t){return Object(_.a)(Object(_.a)({},e),t.payload)})),v)}).reducer;var U=Object(l.j)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mail})),n=Object(i.d)(P),r=Object(l.i)(),h=Object(c.useState)(!1),x=Object(s.a)(h,2),g=x[0],v=x[1];return Object(m.b)((function(){t(D(r))}),[t,r]),a?Object(O.jsxs)("div",{className:"p-16 sm:p-24",children:[Object(O.jsx)("div",{className:"flex items-center justify-between overflow-hidden",children:Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)(o.a,{delay:100,children:Object(O.jsx)(f.a,{variant:"subtitle1",className:"flex",children:a.subject})}),!d.a.isEmpty(n)&&a.labels.length>0&&Object(O.jsx)("div",{className:"flex flex-wrap mt-8 -mx-2",children:a.labels.map((function(e){return Object(O.jsx)(y,{className:"mt-4 mx-2",title:n[e].title,color:n[e].color},e)}))})]})}),Object(O.jsx)(b.a,{className:"my-16"}),Object(O.jsx)(o.a,{animation:"transition.slideUpIn",delay:200,children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"flex items-start justify-between",children:[Object(O.jsxs)("div",{className:"flex items-center justify-start",children:[a.from.avatar?Object(O.jsx)(u.a,{alt:a.from.name,src:a.from.avatar}):Object(O.jsx)(u.a,{children:a.from.name[0]}),Object(O.jsxs)("div",{className:"flex flex-col mx-8",children:[Object(O.jsx)("span",{children:a.from.name}),Object(O.jsxs)(f.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start",children:[Object(O.jsx)("div",{children:"to"}),Object(O.jsx)("div",{className:"mx-4",children:a.to[0].name})]})]})]}),Object(O.jsx)(p.a,{children:Object(O.jsx)(j.a,{children:"more_vert"})})]}),Object(O.jsxs)("div",{className:"my-16",children:[Object(O.jsx)(f.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){v(!g)},children:g?Object(O.jsx)("span",{children:"Hide Details"}):Object(O.jsx)("span",{children:"Show Details"})}),g&&Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)(f.a,{variant:"body2",className:"flex flex-col",children:[Object(O.jsx)("span",{children:"From:"}),Object(O.jsx)("span",{children:"To:"}),Object(O.jsx)("span",{children:"Date:"})]}),Object(O.jsxs)(f.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col",children:[Object(O.jsx)("span",{children:a.from.email}),Object(O.jsx)("span",{children:a.to[0].email}),Object(O.jsx)("span",{children:a.time})]})]})]}),Object(O.jsx)(f.a,{variant:"body2",dangerouslySetInnerHTML:{__html:a.message}}),Object(O.jsx)(b.a,{className:"my-16"}),a.attachments&&Object(O.jsxs)("div",{children:[Object(O.jsxs)(f.a,{variant:"subtitle1",className:"mb-16",children:[Object(O.jsx)("span",{className:"mx-4",children:"Attachments"}),Object(O.jsxs)("span",{children:["(",a.attachments.length,")"]})]}),Object(O.jsx)("div",{className:"flex flex-wrap -mx-8",children:a.attachments.map((function(e){return Object(O.jsxs)("div",{className:"w-192 px-8 pb-16",children:[Object(O.jsx)("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)(f.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()},children:"View"}),Object(O.jsx)(f.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()},children:"Download"}),Object(O.jsxs)(f.a,{children:["(",e.size,")"]})]})]},e.fileName)}))})]})]})})]}):null})),W=a(60),F=a(1529);var V=Object(l.j)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mail})),n=Object(W.a)(),r=F.compile(e.match.path),c=Object(l.i)(),s=Object(_.a)({},c);delete s.mailId;var d=r(s);return a?Object(O.jsxs)("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16",children:[Object(O.jsx)(p.a,{onClick:function(){return e.history.push(d)},children:Object(O.jsx)(j.a,{children:"ltr"===n.direction?"arrow_back":"arrow_forward"})}),Object(O.jsxs)("div",{className:"flex items-center justify-start","aria-label":"Toggle star",children:[Object(O.jsx)(o.a,{animation:"transition.expandIn",delay:100,children:Object(O.jsx)(p.a,{onClick:function(){return t(H({starred:!a.starred}))},children:a.starred?Object(O.jsx)(j.a,{children:"star"}):Object(O.jsx)(j.a,{children:"star_border"})})}),Object(O.jsx)(o.a,{animation:"transition.expandIn",delay:100,children:Object(O.jsx)(p.a,{onClick:function(){return t(H({important:!a.important}))},children:a.important?Object(O.jsx)(j.a,{children:"label"}):Object(O.jsx)(j.a,{children:"label_off"})})})]})]}):null})),$=a(1464),J=a(1363),q=a(291),G=a(1423),Y=a(1604),K=a.n(Y),Q=a(360),X=a.n(Q),Z=a(1397);function ee(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var te={};function ae(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&te[t[0]]||("string"===typeof t[0]&&(te[t[0]]=new Date),ee.apply(void 0,t))}function ne(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function re(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return ae("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,c=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,a){var n=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===n||2===n};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!i(n,e)||r&&!i(c,e))))}function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){X()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,n=Object(c.useContext)(Z.a)||{},r=n.i18n,i=n.defaultNS,l=a||r||Object(Z.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new Z.b),!l){ae("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},o=[s,{},!1];return o.t=s,o.i18n={},o.ready=!1,o}l.options.react&&void 0!==l.options.react.wait&&ae("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var d=ie(ie(ie({},Object(Z.c)()),l.options.react),t),u=d.useSuspense,b=e||i||l.options&&l.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(b);var j=(l.isInitialized||l.initializedStoreOnce)&&b.every((function(e){return re(e,l,d)}));function p(){return{t:l.getFixedT(null,"fallback"===d.nsMode?b:b[0])}}var f=Object(c.useState)(p()),m=K()(f,2),h=m[0],x=m[1],O=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=d.bindI18n,t=d.bindI18nStore;function a(){O.current&&x(p())}return O.current=!0,j||u||ne(l,b,(function(){O.current&&x(p())})),e&&l&&l.on(e,a),t&&l&&l.store.on(t,a),function(){O.current=!1,e&&l&&e.split(" ").forEach((function(e){return l.off(e,a)})),t&&l&&t.split(" ").forEach((function(e){return l.store.off(e,a)}))}}),[b.join()]);var g=[h.t,l,j];if(g.t=h.t,g.i18n=l,g.ready=j,j)return g;if(!j&&!u)return g;throw new Promise((function(e){ne(l,b,(function(){e()}))}))}var se=a(82),oe=a(23),de=Object(C.b)("mailApp/mails/getMails",function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,t=t||n().mailApp.mails.routeParams,e.next=4,A.a.get("/api/mail-app/mails",{params:t});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",{data:c,routeParams:t});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ue=Object(C.b)("mailApp/mails/setFolderOnSelectedMails",function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,i,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r().mailApp.mails.selectedMailIds,e.next=4,A.a.post("/api/mail-app/set-folder",{selectedMailIds:c,folderId:t});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,n(de()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),be=Object(C.b)("mailApp/mails/toggleLabelOnSelectedMails",function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,i,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r().mailApp.mails.selectedMailIds,e.next=4,A.a.post("/api/mail-app/toggle-label",{selectedMailIds:c,labelId:t});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,n(de()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),je=Object(C.c)({}),pe=je.getSelectors((function(e){return e.mailApp.mails})),fe=pe.selectAll,me=(pe.selectById,Object(C.d)({name:"mailApp/mails",initialState:je.getInitialState({searchText:"",routeParams:{},selectedMailIds:[]}),reducers:{setMailsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},selectAllMails:function(e,t){e.selectedMailIds=e.ids},deselectAllMails:function(e,t){e.selectedMailIds=[]},selectMailsByParameter:function(e,t){var a=Object(s.a)(t.payload,2),n=a[0],r=a[1];e.selectedMailIds=e.ids.filter((function(t){return e.entities[t][n]===r}))},toggleInSelectedMails:function(e,t){var a=t.payload;e.selectedMailIds=e.selectedMailIds.includes(a)?e.selectedMailIds.filter((function(e){return e!==a})):[].concat(Object(oe.a)(e.selectedMailIds),[a])}},extraReducers:Object(S.a)({},de.fulfilled,(function(e,t){var a=t.payload,n=a.data,r=a.routeParams;je.setAll(e,n),e.routeParams=r,e.selectedMailIds=[]}))})),he=me.actions,xe=he.setMailsSearchText,Oe=he.selectAllMails,ge=he.deselectAllMails,ve=he.selectMailsByParameter,ye=he.toggleInSelectedMails,Se=me.reducer;var Ne=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.searchText})),n=Object(i.d)(se.d),r=le("mailApp").t;return Object(O.jsx)(G.a,{theme:n,children:Object(O.jsx)("div",{className:"flex flex-1",children:Object(O.jsxs)(q.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8 shadow",children:[Object(O.jsx)($.a,{lgUp:!0,children:Object(O.jsx)(p.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar",children:Object(O.jsx)(j.a,{children:"menu"})})}),Object(O.jsx)(j.a,{color:"action",children:"search"}),Object(O.jsx)(J.a,{placeholder:r("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(xe(e))}})]})})})},we=a(146),ke=a(1369),Ce=a(1371),Ie=a(1442),Ae=a(1446),Me=a(1443),Re=a(316),Ee=a(1372),Te=a(1374),Pe=a(1373),Le=a(755),_e=a(1375),Be=Object(h.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var De=function(e){var t=Be();return Object(O.jsxs)("div",{className:Object(x.default)(t.root,e.className),children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)(f.a,{variant:"caption",className:t.filename,children:e.fileName}),Object(O.jsxs)(f.a,{variant:"caption",className:t.size,children:["(",e.size,")"]})]}),Object(O.jsx)(p.a,{children:Object(O.jsx)(j.a,{className:"text-16",children:"close"})})]})};var He=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(m.c)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),i=r.form,l=r.handleChange,o=le("mailApp").t;return Object(O.jsxs)("div",{className:"p-24",children:[Object(O.jsx)(Re.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){n(!0)},children:o("COMPOSE")}),Object(O.jsxs)(Ee.a,{open:a,onClose:function(){n(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:"rounded-8"},children:[Object(O.jsx)(Me.a,{position:"static",children:Object(O.jsx)(_e.a,{className:"flex w-full",children:Object(O.jsx)(f.a,{variant:"subtitle1",color:"inherit",children:"New Message"})})}),Object(O.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),n(!1)},className:"flex flex-col",children:[Object(O.jsxs)(Pe.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"},children:[Object(O.jsx)(Le.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:i.from,onChange:l,variant:"outlined",fullWidth:!0,disabled:!0}),Object(O.jsx)(Le.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:i.to,onChange:l,variant:"outlined",fullWidth:!0,required:!0}),Object(O.jsx)(Le.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:i.cc,onChange:l,variant:"outlined",fullWidth:!0}),Object(O.jsx)(Le.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:i.bcc,onChange:l,variant:"outlined",fullWidth:!0}),Object(O.jsx)(Le.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:i.subject,onChange:l,variant:"outlined",fullWidth:!0}),Object(O.jsx)(Le.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:l,value:i.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),Object(O.jsxs)("div",{className:"pt-8",children:[Object(O.jsx)(De,{fileName:"attachment-2.doc",size:"12 kb"}),Object(O.jsx)(De,{fileName:"attachment-1.jpg",size:"350 kb"})]})]}),Object(O.jsxs)(Te.a,{className:"justify-between p-8",children:[Object(O.jsxs)("div",{className:"px-16",children:[Object(O.jsx)(Re.a,{variant:"contained",color:"primary",type:"submit",children:"Send"}),Object(O.jsx)(p.a,{children:Object(O.jsx)(j.a,{children:"attach_file"})})]}),Object(O.jsx)(p.a,{onClick:function(){n(!1)},children:Object(O.jsx)(j.a,{children:"delete"})})]})]})]})]})},ze=Object(C.b)("mailApp/filters/getFilters",Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/mail-app/filters");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Ue=Object(C.c)({}),We=Ue.getSelectors((function(e){return e.mailApp.filters})),Fe=We.selectAll,Ve=(We.selectById,Object(C.d)({name:"mailApp/filters",initialState:Ue.getInitialState({}),reducers:{},extraReducers:Object(S.a)({},ze.fulfilled,Ue.setAll)}).reducer),$e=Object(C.b)("mailApp/folders/getFolders",Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/mail-app/folders");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Je=Object(C.c)({}),qe=Je.getSelectors((function(e){return e.mailApp.folders})),Ge=qe.selectAll,Ye=(qe.selectById,Object(C.d)({name:"mailApp/folders",initialState:Je.getInitialState({}),reducers:{},extraReducers:Object(S.a)({},$e.fulfilled,Je.setAll)}).reducer),Ke=Object(h.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var Qe=function(e){var t=Object(i.d)(Ge),a=Object(i.d)(T),n=Object(i.d)(Fe),r=Ke(),c=le("mailApp").t;return Object(O.jsx)(o.a,{animation:"transition.slideUpIn",delay:400,children:Object(O.jsxs)("div",{className:"flex-auto border-l-1",children:[Object(O.jsx)(He,{}),Object(O.jsxs)("div",{children:[Object(O.jsxs)(ke.a,{children:[Object(O.jsx)(Ae.a,{className:r.listSubheader,disableSticky:!0,children:c("FOLDERS")}),t.length>0&&t.map((function(e){return Object(O.jsxs)(Ce.a,{button:!0,component:we.a,to:"/apps/mail/".concat(e.handle),activeClassName:"active",className:r.listItem,children:[Object(O.jsx)(j.a,{className:"list-item-icon",color:"action",children:e.icon}),Object(O.jsx)(Ie.a,{primary:e.translate?c(e.translate):e.title,disableTypography:!0})]},e.id)}))]}),Object(O.jsxs)(ke.a,{children:[Object(O.jsx)(Ae.a,{className:r.listSubheader,disableSticky:!0,children:c("FILTERS")}),n.length>0&&n.map((function(e){return Object(O.jsxs)(Ce.a,{button:!0,component:we.a,to:"/apps/mail/filter/".concat(e.handle),activeClassName:"active",className:r.listItem,children:[Object(O.jsx)(j.a,{className:"list-item-icon",color:"action",children:e.icon}),Object(O.jsx)(Ie.a,{primary:e.translate?c(e.translate):e.title,disableTypography:!0})]},e.id)}))]}),Object(O.jsxs)(ke.a,{children:[Object(O.jsx)(Ae.a,{className:r.listSubheader,disableSticky:!0,children:c("LABELS")}),a&&a.map((function(e){return Object(O.jsxs)(Ce.a,{button:!0,component:we.a,to:"/apps/mail/label/".concat(e.handle),className:r.listItem,children:[Object(O.jsx)(j.a,{className:"list-item-icon",style:{color:e.color},color:"action",children:"label"}),Object(O.jsx)(Ie.a,{primary:e.title,disableTypography:!0})]},e.id)}))]})]})]})})},Xe=a(1427),Ze={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var et=function(e){var t=Object(c.useState)("creapond"),a=Object(s.a)(t,2),n=a[0],r=a[1],i=le("mailApp").t;return Object(O.jsxs)("div",{className:"flex flex-col justify-center h-full p-24",children:[Object(O.jsxs)("div",{className:"flex items-center flex-1",children:[Object(O.jsx)(o.a,{animation:"transition.expandIn",delay:300,children:Object(O.jsx)(j.a,{className:"text-32",children:"mail"})}),Object(O.jsx)(o.a,{animation:"transition.slideLeftIn",delay:300,children:Object(O.jsx)("span",{className:"text-24 mx-16",children:i("APP_TITLE")})})]}),Object(O.jsx)(o.a,{animation:"transition.slideUpIn",delay:300,children:Object(O.jsx)(Le.a,{id:"account-selection",select:!0,label:n,value:n,onChange:function(e){r(e.target.value)},placeholder:"Select Account",margin:"normal",children:Object.keys(Ze).map((function(e,t){return Object(O.jsx)(Xe.a,{value:e,children:Ze[e]},e)}))})})]})},tt=a(529),at=a(100),nt=a(1465),rt=a(1529),ct=Object(h.a)((function(e){return{mailItem:{borderBottom:"1px solid  ".concat(e.palette.divider),"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}})),it=Object(l.j)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(i.d)(P),r=Object(l.i)(),c=ct(e),s=rt.compile(e.match.path),o=a.length>0&&void 0!==a.find((function(t){return t===e.mail.id}));return Object(O.jsxs)(Ce.a,{dense:!0,button:!0,onClick:function(){return e.history.push(s(Object(_.a)(Object(_.a)({},r),{},{mailId:e.mail.id})))},className:Object(x.default)(c.mailItem,o&&"selected",!e.mail.read&&"unread","py-16 px-0 md:px-8"),children:[Object(O.jsx)(nt.a,{tabIndex:-1,disableRipple:!0,checked:o,onChange:function(){return t(ye(e.mail.id))},onClick:function(e){return e.stopPropagation()}}),Object(O.jsxs)("div",{className:"flex flex-1 flex-col relative overflow-hidden",children:[Object(O.jsxs)("div",{className:"flex items-center justify-between px-16 pb-8",children:[Object(O.jsxs)("div",{className:"flex items-center",children:[e.mail.from.avatar?Object(O.jsx)(u.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):Object(O.jsx)(u.a,{className:c.avatar,children:e.mail.from.name[0]}),Object(O.jsx)(f.a,{variant:"subtitle1",className:"mx-8",children:e.mail.from.name})]}),Object(O.jsx)(f.a,{variant:"subtitle1",children:e.mail.time})]}),Object(O.jsxs)("div",{className:"flex flex-col px-16 py-0",children:[Object(O.jsx)(f.a,{className:"truncate",children:e.mail.subject}),Object(O.jsx)(f.a,{color:"textSecondary",className:"truncate",children:d.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180})})]}),Object(O.jsx)("div",{className:"flex justify-end px-12",children:!d.a.isEmpty(n)&&e.mail.labels.map((function(e){return Object(O.jsx)(y,{className:"mx-2 mt-4",title:n[e].title,color:n[e].color},e)}))})]})]})}));var lt=Object(l.j)((function(e){var t=Object(i.c)(),a=Object(i.d)(fe),n=Object(i.d)((function(e){return e.mailApp.mails.searchText})),r=Object(l.i)(),d=Object(c.useState)(null),u=Object(s.a)(d,2),b=u[0],j=u[1],p=le("mailApp").t;return Object(m.b)((function(){t(de(r))}),[t,r]),Object(c.useEffect)((function(){a&&j(0===n.length?a:at.a.filterArrayByString(a,n))}),[a,n]),b?0===b.length?Object(O.jsx)(o.a,{delay:100,children:Object(O.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:Object(O.jsx)(f.a,{color:"textSecondary",variant:"h5",children:p("NO_MESSAGES")})})}):Object(O.jsx)(ke.a,{className:"p-0",children:Object(O.jsx)(tt.a,{enter:{animation:"transition.slideUpBigIn"},children:b.map((function(e){return Object(O.jsx)(it,{mail:e},e.id)}))})}):null})),st=a(720);var ot=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(i.d)(fe),r=Object(i.d)(T),l=Object(i.d)(Ge),o=Object(c.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),d=Object(s.a)(o,2),u=d[0],b=d[1];function f(e,t){b(Object(_.a)(Object(_.a)({},t),{},Object(S.a)({},t,e.currentTarget)))}function m(e,t){b(Object(_.a)(Object(_.a)({},t),{},Object(S.a)({},t,null)))}return Object(O.jsxs)("div",{className:"flex flex-1 items-center sm:px-8",children:[Object(O.jsx)(nt.a,{onChange:function(e){return e.target.checked?t(Oe()):t(ge())},checked:a.length===Object.keys(n).length&&a.length>0,indeterminate:a.length!==Object.keys(n).length&&a.length>0}),Object(O.jsx)(p.a,{className:"",size:"small","aria-label":"More","aria-owns":u.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return f(e,"select")},children:Object(O.jsx)(j.a,{children:"arrow_drop_down"})}),Object(O.jsxs)(st.a,{id:"select-menu",anchorEl:u.select,open:Boolean(u.select),onClose:function(e){return m(0,"select")},children:[Object(O.jsx)(Xe.a,{onClick:function(e){t(Oe()),m(0,"select")},children:"All"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ge()),m(0,"select")},children:"None"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["read",!0])),m(0,"select")},children:"Read"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["read",!1])),m(0,"select")},children:"Unread"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["starred",!0])),m(0,"select")},children:"Starred"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["starred",!1])),m(0,"select")},children:"Unstarred"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["important",!0])),m(0,"select")},children:"Important"}),Object(O.jsx)(Xe.a,{onClick:function(e){t(ve(["important",!1])),m(0,"select")},children:"Unimportant"})]}),a.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),Object(O.jsx)(p.a,{onClick:function(e){return t(ue(4))},"aria-label":"Delete",children:Object(O.jsx)(j.a,{children:"delete"})}),Object(O.jsx)(p.a,{"aria-label":"More","aria-owns":u.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return f(e,"folders")},children:Object(O.jsx)(j.a,{children:"folder"})}),Object(O.jsx)(st.a,{id:"folders-menu",anchorEl:u.folders,open:Boolean(u.folders),onClose:function(e){return m(0,"folders")},children:l.length>0&&l.map((function(e){return Object(O.jsx)(Xe.a,{onClick:function(a){t(ue(e.id)),m(0,"folders")},children:e.title},e.id)}))}),Object(O.jsx)(p.a,{"aria-label":"More","aria-owns":u.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return f(e,"labels")},children:Object(O.jsx)(j.a,{children:"label"})}),Object(O.jsx)(st.a,{id:"folders-menu",anchorEl:u.labels,open:Boolean(u.labels),onClose:function(e){return m(0,"labels")},children:r.length>0&&r.map((function(e){return Object(O.jsx)(Xe.a,{onClick:function(a){t(be(e.id)),m(0,"labels")},children:e.title},e.id)}))})]})]})},dt=a(78),ut=Object(dt.c)({mails:Se,mail:z,folders:Ye,labels:L,filters:Ve});t.default=Object(r.a)("mailApp",ut)((function(e){var t=Object(i.c)(),a=Object(c.useRef)(null),r=Object(l.i)();return Object(c.useEffect)((function(){t(ze()),t($e()),t(M())}),[t]),Object(O.jsx)(n.a,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:Object(O.jsx)(Ne,{pageLayout:a}),contentToolbar:r.mailId?Object(O.jsx)(V,{}):Object(O.jsx)(ot,{}),content:r.mailId?Object(O.jsx)(U,{}):Object(O.jsx)(lt,{}),leftSidebarHeader:Object(O.jsx)(et,{}),leftSidebarContent:Object(O.jsx)(Qe,{}),ref:a,innerScroll:!0})}))}}]);