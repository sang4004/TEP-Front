(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[93],{2060:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(140),o=a(1368),i=a(871),c=a(1287),l=a(642),s=a(18),d=a(45),b=a.n(d),u=a(0),m=a.n(u),p=a(1948),g=a(1625),v=a.n(g),f=(a(1643),a(1644),a(32)),h=a(12),E=a(873),j=a(1347),y=a(25),x=a(1367),O=a(272),w=a(1645),k=a.n(w),D=a(1486),I=a(674),N=a(81),S={month:{title:"Month",icon:"view_module"},week:{title:"Week",icon:"view_week"},work_week:{title:"Work week",icon:"view_array"},day:{title:"Day",icon:"view_day"},agenda:{title:"Agenda",icon:"view_agenda"}},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.viewButtons=function(){var e=this,t=this.props.views,a=this.props.view;return t.length>1?t.map((function(t){return m.a.createElement(x.a,{title:S[t].title,key:t},m.a.createElement("div",null,m.a.createElement(r.a,{animation:"transition.expandIn",delay:500},m.a.createElement(E.a,{"aria-label":t,onClick:function(){return e.props.onView(t)},disabled:a===t},m.a.createElement(i.a,null,S[t].icon)))))})):null},t.prototype.render=function(){var e=this.props,t=e.classes,a=e.mainThemeDark,n=e.label,o=e.date;return m.a.createElement(j.a,{theme:a},m.a.createElement("div",{className:Object(s.default)(t.root,"flex h-200 min-h-200 relative",b()(o).format("MMM"))},m.a.createElement("div",{className:"flex flex-1 flex-col p-12 justify-between z-10 container"},m.a.createElement("div",{className:"flex flex-col items-center justify-between sm:flex-row"},m.a.createElement("div",{className:"flex items-center my-16 sm:mb-0"},m.a.createElement(r.a,{animation:"transition.expandIn",delay:300},m.a.createElement(i.a,{className:"text-32 mx-12"},"today")),m.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(O.a,{variant:"h6"},"Calendar"))),m.a.createElement("div",{className:"flex items-center"},m.a.createElement(x.a,{title:"Today"},m.a.createElement("div",null,m.a.createElement(r.a,{animation:"transition.expandIn",delay:500},m.a.createElement(E.a,{"aria-label":"today",onClick:this.navigate.bind(null,D.navigate.TODAY)},m.a.createElement(i.a,null,"today"))))),this.viewButtons())),m.a.createElement(r.a,{delay:500},m.a.createElement("div",{className:"flex items-center justify-center"},m.a.createElement(x.a,{title:"Previous"},m.a.createElement(E.a,{"aria-label":"Previous",onClick:this.navigate.bind(null,D.navigate.PREVIOUS)},m.a.createElement(i.a,null,"ltr"===a.direction?"chevron_left":"chevron_right"))),m.a.createElement(O.a,{variant:"h6"},n),m.a.createElement(x.a,{title:"Next"},m.a.createElement(E.a,{"aria-label":"Next",onClick:this.navigate.bind(null,D.navigate.NEXT)},m.a.createElement(i.a,null,"ltr"===a.direction?"chevron_right":"chevron_left"))))))))},t}(k.a);var C,P,M,z=Object(I.a)((function(e){return{mainThemeDark:Object(N.e)(e)}}))(Object(y.a)((function(e){return{root:{backgroundImage:'url("../../assets/images/backgrounds/header-bg.png")',backgroundColor:"#FAFAFA",color:"#FFFFFF",backgroundSize:"cover",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat","&:before":{content:"''",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"rgba(0, 0, 0, 0.45)"},"&.Jan":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Feb":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Mar":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Apr":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.May":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Jun":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Jul":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Aug":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Sep":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Oct":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Nov":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Dec":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"}}}}),{withTheme:!0})(A)),F=a(273),T=a(650),Y=a(1359),_=a(178),B=a(1370),W=a(1467),L=a(1445),R=a(1349),V=a(1466),H=a(872),J=a(1364),U=a(1953),G=a(68),q=a(80),X=a.n(q),Z="YYYY-MM-DDTHH:mm:ss.sssZ",K=Object(G.b)("calendarApp/events/getEvents",(function(){return Object(n.b)(void 0,void 0,void 0,(function(){return Object(n.d)(this,(function(e){switch(e.label){case 0:return[4,X.a.get("/api/calendar-app/events")];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}}))}))})),Q=Object(G.b)("calendarApp/events/addEvent",(function(e,t){t.dispatch;return Object(n.b)(void 0,void 0,void 0,(function(){return Object(n.d)(this,(function(t){switch(t.label){case 0:return[4,X.a.post("/api/calendar-app/add-event",{newEvent:e})];case 1:return[4,t.sent().data];case 2:return[2,t.sent()]}}))}))})),$=Object(G.b)("calendarApp/events/updateEvent",(function(e,t){t.dispatch;return Object(n.b)(void 0,void 0,void 0,(function(){return Object(n.d)(this,(function(t){switch(t.label){case 0:return[4,X.a.post("/api/calendar-app/update-event",{event:e})];case 1:return[4,t.sent().data];case 2:return[2,t.sent()]}}))}))})),ee=Object(G.b)("calendarApp/events/remove-event",(function(e,t){t.dispatch;return Object(n.b)(void 0,void 0,void 0,(function(){return Object(n.d)(this,(function(t){switch(t.label){case 0:return[4,X.a.post("/api/calendar-app/remove-event",{eventId:e})];case 1:return[4,t.sent().data];case 2:return[2,t.sent().id]}}))}))})),te=Object(G.c)({}),ae=(C=te.getSelectors((function(e){return e.calendarApp.events}))).selectAll,ne=(C.selectIds,C.selectById,Object(G.d)({name:"calendarApp/events",initialState:te.getInitialState({eventDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewEventDialog:{prepare:function(e){return{payload:{type:"new",props:{open:!0},data:{start:b()(e.start).format(Z).toString(),end:b()(e.end).format(Z).toString()}}}},reducer:function(e,t){e.eventDialog=t.payload}},openEditEventDialog:{prepare:function(e){return{payload:{type:"edit",props:{open:!0},data:Object(n.a)(Object(n.a)({},e),{start:b()(e.start).format(Z).toString(),end:b()(e.end).format(Z).toString()})}}},reducer:function(e,t){e.eventDialog=t.payload}},closeNewEventDialog:function(e,t){e.eventDialog={type:"new",props:{open:!1},data:null}},closeEditEventDialog:function(e,t){e.eventDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(P={},P[K.fulfilled]=te.setAll,P[Q.fulfilled]=te.addOne,P[$.fulfilled]=te.upsertOne,P[ee.fulfilled]=te.removeOne,P)})),re=(M=ne.actions).openNewEventDialog,oe=M.closeNewEventDialog,ie=M.openEditEventDialog,ce=M.closeEditEventDialog,le=ne.reducer,se={id:T.a.generateGUID(),title:"",allDay:!0,start:b()(new Date,"MM/DD/YYYY"),end:b()(new Date,"MM/DD/YYYY"),desc:""};var de=function(e){var t=Object(h.c)(),a=Object(h.d)((function(e){return e.calendarApp.events.eventDialog})),r=Object(F.c)(se),o=r.form,c=r.handleChange,l=r.setForm,s=r.setInForm,d=Object(u.useCallback)((function(){"edit"===a.type&&a.data&&l(Object(n.a)({},a.data)),"new"===a.type&&l(Object(n.a)(Object(n.a)(Object(n.a)({},se),a.data),{id:T.a.generateGUID()}))}),[a.data,a.type,l]);function b(){return"edit"===a.type?t(ce()):t(oe())}function p(){return o.title.length>0}return Object(u.useEffect)((function(){a.props.open&&d()}),[a.props.open,d]),m.a.createElement(B.a,Object(n.a)({},a.props,{onClose:b,fullWidth:!0,maxWidth:"xs",component:"form",classes:{paper:"rounded-8"}}),m.a.createElement(Y.a,{position:"static"},m.a.createElement(J.a,{className:"flex w-full"},m.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"new"===a.type?"New Event":"Edit Event"))),m.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),"new"===a.type?t(Q(o)):t($(o)),b()}},m.a.createElement(L.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},m.a.createElement(H.a,{id:"title",label:"Title",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},name:"title",value:o.title,onChange:c,variant:"outlined",autoFocus:!0,required:!0,fullWidth:!0}),m.a.createElement(R.a,{className:"mt-8 mb-16",label:"All Day",control:m.a.createElement(V.a,{checked:o.allDay,id:"allDay",name:"allDay",onChange:c})}),m.a.createElement(U.a,{label:"Start",inputVariant:"outlined",value:o.start,onChange:function(e){return s("start",e)},className:"mt-8 mb-16 w-full",maxDate:o.end}),m.a.createElement(U.a,{label:"End",inputVariant:"outlined",value:o.end,onChange:function(e){return s("end",e)},className:"mt-8 mb-16 w-full",minDate:o.start}),m.a.createElement(H.a,{className:"mt-8 mb-16",id:"desc",label:"Description",type:"text",name:"desc",value:o.desc,onChange:c,multiline:!0,rows:5,variant:"outlined",fullWidth:!0})),"new"===a.type?m.a.createElement(W.a,{className:"justify-between px-8 sm:px-16"},m.a.createElement(_.a,{variant:"contained",color:"primary",type:"submit",disabled:!p()},"Add")):m.a.createElement(W.a,{className:"justify-between px-8 sm:px-16"},m.a.createElement(_.a,{variant:"contained",color:"primary",type:"submit",disabled:!p()},"Save"),m.a.createElement(E.a,{onClick:function(){t(ee(o.id)),b()}},m.a.createElement(i.a,null,"delete")))))},be=a(102),ue=Object(be.c)({events:le}),me=Object(p.c)(b.a),pe=v()(p.a),ge=Object.keys(p.b).map((function(e){return p.b[e]})),ve=Object(c.a)((function(e){var t;return{root:{"& .rbc-header":{padding:"12px 6px",fontWeight:600,fontSize:14},"& .rbc-label":{padding:"8px 6px"},"& .rbc-today":{backgroundColor:"transparent"},"& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today":{borderBottom:"2px solid "+e.palette.secondary.main+"!important"},"& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view":Object(n.a)((t={padding:24},t[e.breakpoints.down("sm")]={padding:16},t),e.mixins.border(0)),"& .rbc-agenda-view table":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{"& thead > tr > th":Object(n.a)({},e.mixins.borderBottom(0)),"& tbody > tr > td":{padding:"12px 6px","& + td":Object(n.a)({},e.mixins.borderLeft(1))}}),"& .rbc-agenda-table":{"& th":{border:0},"& th, & td":{padding:"12px 16px!important"}},"& .rbc-time-view":{"& .rbc-time-header":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{borderRadius:"12px 12px 0 0"}),"& .rbc-time-content":Object(n.a)({flex:"0 1 auto"},e.mixins.border(1))},"& .rbc-month-view":{"& > .rbc-month-header":{borderRadius:"12px 12px 0 0"},"& > .rbc-row":Object(n.a)({},e.mixins.border(1)),"& .rbc-month-row":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{borderWidth:"0 1px 1px 1px!important",minHeight:128}),"& .rbc-header + .rbc-header":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-header":Object(n.a)({},e.mixins.borderBottom(0)),"& .rbc-day-bg + .rbc-day-bg":Object(n.a)({},e.mixins.borderLeft(1))},"& .rbc-day-slot .rbc-time-slot":Object(n.a)(Object(n.a)({},e.mixins.borderTop(1)),{opacity:.5}),"& .rbc-time-header > .rbc-row > * + *":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-time-content > * + * > *":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-day-bg + .rbc-day-bg":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-time-header > .rbc-row:first-child":Object(n.a)({},e.mixins.borderBottom(1)),"& .rbc-timeslot-group":Object(n.a)({minHeight:64},e.mixins.borderBottom(1)),"& .rbc-date-cell":{padding:8,fontSize:16,fontWeight:400,opacity:.5,"& > a":{color:"inherit"}},"& .rbc-event":{borderRadius:4,padding:"4px 8px",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,boxShadow:e.shadows[0],transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,position:"relative","&:hover":{boxShadow:e.shadows[2]}},"& .rbc-row-segment":{padding:"0 4px 4px 4px"},"& .rbc-off-range-bg":{backgroundColor:"light"===e.palette.type?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.16)"},"& .rbc-show-more":{color:e.palette.secondary.main,background:"transparent"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event":{position:"static"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child":{left:0,top:0,bottom:0,height:"auto"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child":{right:0,top:0,bottom:0,height:"auto"}},addButton:{position:"absolute",right:12,top:172,zIndex:99}}}));t.default=Object(l.a)("calendarApp",ue)((function(e){var t=Object(h.c)(),a=Object(h.d)(ae).map((function(e){return Object(n.a)(Object(n.a)({},e),{start:b()(e.start,Z).toDate(),end:b()(e.end,Z).toDate()})})),c=ve(e),l=Object(u.useRef)(null);return Object(u.useEffect)((function(){t(K())}),[t]),m.a.createElement("div",{className:Object(s.default)(c.root,"flex flex-col flex-auto relative")},m.a.createElement("div",{ref:l}),m.a.createElement(pe,{className:"flex flex-1 container",selectable:!0,localizer:me,events:a,onEventDrop:function(e){var a=e.event,r=e.start,o=e.end;t($(Object(n.a)(Object(n.a)({},a),{start:r,end:o})))},resizable:!0,onEventResize:function(e){var a=e.event,r=e.start,o=e.end;delete a.type,t($(Object(n.a)(Object(n.a)({},a),{start:r,end:o})))},defaultView:p.b.MONTH,defaultDate:new Date(2020,3,1),startAccessor:"start",endAccessor:"end",views:ge,step:60,showMultiDayTimes:!0,components:{toolbar:function(e){return l.current?f.createPortal(m.a.createElement(z,Object(n.a)({},e)),l.current):null}},onSelectEvent:function(e){t(ie(e))},onSelectSlot:function(e){return t(re(e))}}),m.a.createElement(r.a,{animation:"transition.expandIn",delay:500},m.a.createElement(o.a,{color:"secondary","aria-label":"add",className:c.addButton,onClick:function(){return t(re({start:new Date,end:new Date}))}},m.a.createElement(i.a,null,"add"))),m.a.createElement(de,null))}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=undefined;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}}]);