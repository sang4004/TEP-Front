(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[22],{1479:function(e,t,n){"use strict";n.d(t,"v",(function(){return X})),n.d(t,"k",(function(){return Z})),n.d(t,"l",(function(){return G})),n.d(t,"a",(function(){return Q})),n.d(t,"o",(function(){return V})),n.d(t,"n",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"e",(function(){return re})),n.d(t,"q",(function(){return ae})),n.d(t,"t",(function(){return ce})),n.d(t,"r",(function(){return ie})),n.d(t,"s",(function(){return oe})),n.d(t,"g",(function(){return se})),n.d(t,"c",(function(){return de})),n.d(t,"i",(function(){return ue})),n.d(t,"d",(function(){return le})),n.d(t,"h",(function(){return fe})),n.d(t,"f",(function(){return be})),n.d(t,"p",(function(){return je}));var r=n(3),a=n(178),c=n(636),i=n(879),o=n(874),s=n(1596),d=n(1359),u=n(221),l=n(343),f=n(872),b=n(1367),j=n(25),p=n(2),O=n(195);n.d(t,"b",(function(){return O.b})),n.d(t,"u",(function(){return O.n}));var h,g,x,_,v,m,w,k,y,S,Y,C,D,M,E,I,T,z,$,N,L,P,R,U,W,A,F,H,J,B,q,K=n(142),X=(p.a.div(h||(h=Object(r.a)(["\n    width: auto;\n    height: 100%;\n    margin: 0 15px 0 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),p.a.div(g||(g=Object(r.a)(["\n    font-weight: 500;\n    font-size: 1.4em;\n    color: #333;\n    white-space: pre;\n    user-select: none;\n"]))),Object(p.a)(s.a)(x||(x=Object(r.a)(["\n    color: #333;\n"]))),p.a.div(_||(_=Object(r.a)(["\n    width: 100%;\n    height: 94%;\n    box-sizing: border-box;\n"])))),Z=p.a.div(v||(v=Object(r.a)(["\n    width: 100%;\n    height: 100%;\n    padding-bottom: 20px;\n    background-color: white;\n    border-radius: 0 0 10px 10px;\n"]))),G=p.a.div(m||(m=Object(r.a)(["\n    height: fit-content;\n    border-bottom: 1px solid #ccc;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    box-sizing: border-box;\n"]))),Q=(p.a.div(w||(w=Object(r.a)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: flex-start;\n    img {\n        margin-right: 10px;\n    }\n"]))),Object(p.a)(d.a)(k||(k=Object(r.a)([""]))),Object(p.a)(i.a)(y||(y=Object(r.a)(["\n    width: 140px;\n"]))),Object(p.a)(o.a)(S||(S=Object(r.a)(["\n    font-weight: 500;\n    font-size: 1.2em;\n    min-width: fit-content !important;\n    opacity: ",";\n"])),(function(e){return e.$workType?"\n        0.3\n    ":"\n        1\n    "})),p.a.div(Y||(Y=Object(r.a)(["\n    display: flex;\n    width: fit-content;\n    height: 70%;\n"]))),p.a.div(C||(C=Object(r.a)(["\n    ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    font-size: 1.2em;\n    height: 2.4em;\n    color: #fff;\n    padding: 6px 0;\n    border-radius: 6px;\n    cursor: pointer;\n"])),(function(e){return e.$workType?"".concat(K.e,";"):"background-color: #ff9800;"}))),V=(p.a.div(D||(D=Object(r.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background-color: transparent;\n    flex: 1;\n"]))),Object(p.a)(c.a)(M||(M=Object(r.a)(["\n    width: fit-content;\n    font-weight: bold;\n    cursor: pointer;\n    background: white;\n    padding: 0px;\n"]))),p.a.td(E||(E=Object(r.a)(["\n    min-height: 50px;\n    width: 100%;\n    background-color: #fff;\n    padding: 8px 12px;\n"])))),ee=p.a.div(I||(I=Object(r.a)(["\n    text-align: center;\n    ",";\n"])),(function(e){return e.$isOver?"\n            color : #477EE9;\n            ":"\n            color : #e54b0b;\n    "})),te=p.a.p(T||(T=Object(r.a)(["\n    width: 100%;\n    color: #477ee9;\n    font-weight: bold;\n    cursor: pointer;\n    background: white;\n"]))),ne=(Object(p.a)(a.a)(z||(z=Object(r.a)(["\n    width: fit-content;\n    color: white;\n    background: #477ee9;\n"]))),p.a.div($||($=Object(r.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: 60px;\n    padding: 10px;\n"])))),re=(Object(p.a)(u.a)(N||(N=Object(r.a)(["\n    flex: 1;\n    padding: 0.2em 0;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    margin: 0 2% 0 2%;\n    text-align: center;\n"]))),Object(j.a)({root:{textAlign:"center"}})(l.a)),ae=Object(p.a)(a.a)(L||(L=Object(r.a)(["\n    height: 36px;\n    flex: 1;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: 6px;\n    ",";\n"])),(function(e){return 1==e.$approval?"\n            background-color: #ff9800;\n            &:hover {\n                background-color: #ff9800;\n            }\n    ":"\n            background-color: #ccc;\n            &:hover {\n                background-color: #ccc;\n            }\n    "})),ce=Object(p.a)(a.a)(P||(P=Object(r.a)(["\n    height: 36px;\n    width: max-content;\n    min-width: 100px;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: 6px;\n    ",";\n"])),(function(e){return 1==e.$register?"\n            background-color: #ff9800;\n            &:hover {\n                background-color: #ff9800;\n            }\n    ":"\n            background-color: #ccc;\n            &:hover {\n                background-color: #ccc;\n            }\n    "})),ie=p.a.div(R||(R=Object(r.a)(["\n    display: flex;\n    flex-direction: row;\n    gap: 6px;\n"]))),oe=p.a.div(U||(U=Object(r.a)(["\n    display: flex;\n    flex: 1;\n    width: 100%;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 0 10px;\n"]))),se=(Object(p.a)(u.a)(W||(W=Object(r.a)(["\n    width: 150px;\n    height: 100%;\n    padding: 5px;\n    padding-left: 10px;\n    margin: 0 10px;\n    border: 1px solid #4490ff;\n"]))),p.a.div(A||(A=Object(r.a)(["\n    flex: 1.8;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"])))),de=p.a.input(F||(F=Object(r.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #aaaaaa;\n    height: 100%;\n    margin: 0 10px;\n    padding-left: 10px;\n    flex: 1;\n    text-align: center;\n"]))),ue=Object(p.a)(u.a)(H||(H=Object(r.a)(["\n    flex: 0.6;\n    height: 100%;\n    padding: 5px;\n    padding-left: 10px;\n    margin: 0 10px;\n    border: 1px solid #4490ff;\n"]))),le=Object(p.a)(u.a)(J||(J=Object(r.a)(["\n    flex: 0.6;\n    height: 100%;\n    padding: 5px;\n    padding-left: 10px;\n    margin: 0 10px;\n    border: 1px solid #4490ff;\n"]))),fe=Object(p.a)(f.a)(B||(B=Object(r.a)(["\n    flex: 1.9;\n    min-width: 150px;\n    border: 1px solid #aaaaaa;\n    padding: 0 10px;\n    margin: 0 10px;\n    display: flex;\n    justify-content: center;\n"]))),be=p.a.button(q||(q=Object(r.a)(["\n    flex: 0.5;\n    height: 100%;\n    margin: 0 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #4490ff;\n    border-radius: 5px;\n    color: #ffffff;\n    font-size: 1.2em;\n"]))),je=Object(j.a)({tooltip:{width:360,maxWidth:360}})(b.a)},1520:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),a=function(e){return Object.entries(e).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];if(-1!=a&&""!=a&&void 0!=a)return"".concat(n,"=").concat(a)})).filter((function(e){return e})).join("&")}},1596:function(e,t,n){"use strict";var r=n(10),a=n(21),c=n(0),i=(n(4),n(18)),o=n(645),s=n(114),d=Object(s.a)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),u=Object(s.a)(c.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),l=n(25);var f=Object(l.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,n=e.classes,r=e.fontSize;return c.createElement("div",{className:Object(i.default)(n.root,t&&n.checked)},c.createElement(d,{fontSize:r}),c.createElement(u,{fontSize:r,className:n.layer}))})),b=n(48),j=n(31),p=n(153),O=n(653);var h=c.createElement(f,{checked:!0}),g=c.createElement(f,null),x=c.forwardRef((function(e,t){var n=e.checked,s=e.classes,d=e.color,u=void 0===d?"secondary":d,l=e.name,f=e.onChange,b=e.size,x=void 0===b?"medium":b,_=Object(a.a)(e,["checked","classes","color","name","onChange","size"]),v=c.useContext(O.a),m=n,w=Object(p.a)(f,v&&v.onChange),k=l;return v&&("undefined"===typeof m&&(m=v.value===e.value),"undefined"===typeof k&&(k=v.name)),c.createElement(o.a,Object(r.a)({color:u,type:"radio",icon:c.cloneElement(g,{fontSize:"small"===x?"small":"default"}),checkedIcon:c.cloneElement(h,{fontSize:"small"===x?"small":"default"}),classes:{root:Object(i.default)(s.root,s["color".concat(Object(j.a)(u))]),checked:s.checked,disabled:s.disabled},name:k,checked:m,onChange:w,ref:t},_))}));t.a=Object(l.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(b.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(b.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(x)},2062:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(23),i=n(11),o=n(13),s=n(5),d=n(0),u=n(77),l=n(12),f=n(30),b=n(9),j=n(14),p=n(638),O=n(45),h=n.n(O),g=function(e,t){return Math.floor(e/t)+1},x=n(1520),_=[.15,.4,.6,.3,.3,.3,.2],v=[1,1,0,1,1,1,1],m=["No","TR. No.","\uc81c\ubaa9","\uc2b9\uc778\uae30\ud55c","\ud604\uc7ac\uacb0\uc7ac\uc790","\ucd5c\uc885\uacb0\uc7ac\uc790","\uacb0\uc7ac\uc0c1\ud0dc"],w=[.15,.4,.5,.2,.2,.2,.3,.3,.3,.2],k=[1,1,1,1,1,1,1,1,1,1],y=["No","TR. No.","\uc81c\ubaa9","\uc218\uc2e0\uc77c\uc790","\uc811\uc218\uc77c\uc790","\uc2b9\uc778\uae30\ud55c","\ud604\uc7ac\uacb0\uc7ac\uc790","\ucd5c\uc885\uacb0\uc7ac\uc790","\uc0c1\ud0dc"," "],S=[.1,.1,.3,.55,.15,.15,.15,.15,.15,.15,.15,.2],Y=[1,1,1,1,1,1,1,1,1,1,1],C=["","No","TR. No.","\uc81c\ubaa9","\uc218\uc2e0\uc77c\uc790","\uc811\uc218\uc77c\uc790","\uc2b9\uc778\uae30\ud55c","\ud604\uc7ac\uacb0\uc7ac\uc790","\ucd5c\uc885\uacb0\uc7ac\uc790","\uc0c1\ud0dc","\uac80\ud1a0\uc644\ub8cc\ud604\ud669"," "],D=["wp_idx","tm_code","subject","due_date","now_approver","approver","assign_state"],M=["check_wp_idx","wp_idx","tm_code","subject","create_tm","assign_date","due_date","now_approver","approver","assign_state","is_fin_count","now_order"],E=[2,3],I=[2,5,9],T=[3,6,10,11],z=20,$=n(1479),N=n(1),L=function(e,t){if(void 0!=e[t]&&void 0!=e[t].due_date){var n=e[t].due_date,r=n>0;return Object(N.jsx)($.o,{style:{background:"#fff"},children:Object(N.jsx)($.n,{$isOver:r,children:r?"\uc794\uc5ec "+n+"\uc77c":-1*n+"\uc77c \uacbd\uacfc"})})}return Object(N.jsx)($.o,{})},P=function(e,t,n,r,a,c){return Object(N.jsx)($.o,{style:e,children:Object(N.jsx)($.a,{style:t,$workType:r,onClick:function(){a.apply(void 0,Object(o.a)(c))},children:n})})};t.default=function(e){var t=Object(l.c)(),n=Object(f.b)(),r=n.path,O=n.pushHistory,R=n.searchParam,U=Object(u.g)(),W=U.replace,A=U.location,F=U.push,H=U.action,J=Object(u.i)(),B=J.type,q=J.wp_idx,K=J.work_type,X=J.project_no,Z=h()(),G=Object(l.d)((function(e){return e.tm})),Q=Object(l.d)((function(e){return e.user})),V=Object(l.d)((function(e){return e.work})),ee=Object(l.d)((function(e){return e.project})),te=Object(l.d)((function(e){return e.history})),ne=Object(d.useState)(!1),re=Object(s.a)(ne,2),ae=re[0],ce=re[1],ie=Object(d.useState)(!1),oe=Object(s.a)(ie,2),se=oe[0],de=oe[1],ue=Object(d.useState)(!1),le=Object(s.a)(ue,2),fe=le[0],be=le[1],je=Object(d.useState)(!1),pe=Object(s.a)(je,2),Oe=pe[0],he=pe[1],ge=Object(d.useState)(!1),xe=Object(s.a)(ge,2),_e=xe[0],ve=xe[1],me=Object(d.useState)(!1),we=Object(s.a)(me,2),ke=we[0],ye=we[1],Se=Object(d.useState)(-1),Ye=Object(s.a)(Se,2),Ce=Ye[0],De=Ye[1],Me=Object(d.useState)([]),Ee=Object(s.a)(Me,2),Ie=Ee[0],Te=Ee[1],ze=Object(d.useState)([]),$e=Object(s.a)(ze,2),Ne=$e[0],Le=$e[1],Pe=Object(d.useState)(m),Re=Object(s.a)(Pe,2),Ue=Re[0],We=Re[1],Ae=Object(d.useState)(_),Fe=Object(s.a)(Ae,2),He=Fe[0],Je=Fe[1],Be=Object(d.useState)(v),qe=Object(s.a)(Be,2),Ke=qe[0],Xe=qe[1],Ze=Object(d.useState)([]),Ge=Object(s.a)(Ze,2),Qe=Ge[0],Ve=Ge[1],et=Object(d.useState)(-1),tt=Object(s.a)(et,2),nt=tt[0],rt=tt[1],at=Object(d.useState)(!1),ct=Object(s.a)(at,2),it=ct[0],ot=ct[1],st=Object(d.useState)([]),dt=Object(s.a)(st,2),ut=dt[0],lt=dt[1],ft=Object(d.useState)(-1),bt=Object(s.a)(ft,2),jt=bt[0],pt=bt[1],Ot=Object(d.useState)(-1),ht=Object(s.a)(Ot,2),gt=ht[0],xt=ht[1],_t=Object(d.useState)(K?parseInt(K):2),vt=Object(s.a)(_t,2),mt=vt[0],wt=vt[1],kt=Object(d.useState)([]),yt=Object(s.a)(kt,2),St=yt[0],Yt=yt[1],Ct=Object(d.useState)([]),Dt=Object(s.a)(Ct,2),Mt=Dt[0],Et=Dt[1],It=Object(d.useState)(-1),Tt=Object(s.a)(It,2),zt=Tt[0],$t=Tt[1],Nt=Object(d.useState)([]),Lt=Object(s.a)(Nt,2),Pt=Lt[0],Rt=Lt[1],Ut=Object(d.useState)([]),Wt=Object(s.a)(Ut,2),At=Wt[0],Ft=Wt[1],Ht=Object(d.useState)([]),Jt=Object(s.a)(Ht,2),Bt=Jt[0],qt=Jt[1],Kt=Object(d.useState)([]),Xt=Object(s.a)(Kt,2),Zt=Xt[0],Gt=Xt[1],Qt=Object(d.useState)(0),Vt=Object(s.a)(Qt,2),en=Vt[0],tn=Vt[1],nn=Object(d.useState)(X?parseInt(X):-1),rn=Object(s.a)(nn,2),an=rn[0],cn=rn[1],on=Object(d.useState)([]),sn=Object(s.a)(on,2),dn=sn[0],un=sn[1],ln=Object(d.useState)(!1),fn=Object(s.a)(ln,2),bn=fn[0],jn=fn[1],pn=Object(d.useState)(!1),On=Object(s.a)(pn,2),hn=On[0],gn=On[1],xn=Object(d.useState)(),_n=Object(s.a)(xn,2),vn=_n[0],mn=_n[1],wn=Object(d.useState)(),kn=Object(s.a)(wn,2),yn=kn[0],Sn=kn[1],Yn=Object(d.useState)(1),Cn=Object(s.a)(Yn,2),Dn=Cn[0],Mn=Cn[1],En=Object(d.useState)(""),In=Object(s.a)(En,2),Tn=In[0],zn=In[1],$n=Object(d.useState)(1),Nn=Object(s.a)($n,2),Ln=Nn[0],Pn=Nn[1],Rn=Object(d.useState)(0),Un=Object(s.a)(Rn,2),Wn=Un[0],An=Un[1],Fn=Object(d.useState)(!1),Hn=Object(s.a)(Fn,2),Jn=Hn[0],Bn=Hn[1];Object(d.useEffect)((function(){Gn()}),[]),Object(d.useEffect)((function(){if("POP"==H&&Jn||0==te.history.length){ir();var e,n,r=R.get("endDate"),a=R.get("startDate");r?(e=new Date(r),Sn(e),e.setHours(0,0,0,0),e.setDate(e.getDate()+1)):e=h()().add(1,"day").toDate(),a?(n=new Date(a),mn(n),n.setHours(0,0,0,0)):n=vn,t(Object(b.Nh)(mt,B,an,!1,Dn,Tn,n,e,Wn,z))}}),[H,R]),Object(d.useEffect)((function(){void 0!=V.now_tab&&wt(V.now_tab)}),[V.now_tab]),Object(d.useEffect)((function(){ce(!0),ir()}),[B]),Object(d.useEffect)((function(){if(r)if(ce(!0),rt(Q.edms_user_id),ot(Q.edms_level>=2),t(Object(b.Hh)()),t(Object(b.ng)()),""==A.search)rr(0);else{var e,n=R.get("skip");R.has("us")&&(e=null!=n?parseInt(n):1,0==V.work_proc_list_length?rr(e):Pn(Math.floor(e/z)+1))}}),[r]),Object(d.useEffect)((function(){if(G.original_tm_code){var e=G.original_tm_code,t=G.original_tm_subject;Yt([e+"_"+t])}}),[G.original_tm_code]),Object(d.useEffect)((function(){V.create_deploy&&(qt([]),rr())}),[V.create_deploy]),Object(d.useEffect)((function(){void 0!=V.get_unread_works&&V.get_unread_works.length>0&&Ft(V.get_unread_works)}),[V.get_unread_works]),Object(d.useEffect)((function(){0==dn.length&&un(ee.project_type_list)}),[ee.project_type_list]),Object(d.useEffect)((function(){if(0!=V.work_proc_list.length&&0!=V.assign_list.length){ce(!0);var e=V.assign_list,t=V.work_proc_list,n=V.approval_info_list,r=V.my_assign_list,a=V.work_proc_list_length,i=function(e,t,n,r,a,c,i){for(var o=[],s=[],d=[],u=0;u<e.length;u++){var l=e[u],f=t[u],b=f.length,j=r&&r[u]?r[u].wa_idx:null,p=r&&r[u]?r[u].assign_state:f[b-1].assign_state,O=f[b-1].is_fin,g=f[b-1].is_approval,x=h()(l.due_date).diff(h()(),"days"),_=h()(l.create_tm).format("YYYY-MM-DD"),v=null!=l.assign_date?h()(l.assign_date).format("YYYY-MM-DD"):null,m={wp_idx:l.wp_idx,tm_code:l.tm_code?l.tm_code:"",subject:l.subject,due_date:x,now_approver:0!=n.length&&0!=n[u].now_approver.length?n[u].now_approver[0].username:"",approver:0!=n.length&&0!=n[u].last_approver.length?n[u].last_approver[0].username:"",assign_state:l.assign_text};1==a?o.push([l.wp_idx,l.original_tm_id]):2==a&&(Object.assign(m,{create_tm:_,assign_date:v}),"tm"==c&&Object.assign(m,{check_wp_idx:l.wp_idx,is_fin_count:l.is_fin_count+" / "+l.is_fin_total_count}),"din"!=c&&Object.assign(m,{now_order:[n[u].now_approver,p,j,g,n[u].last_approver,l.original_tm_id,l.wp_code,l.comment,l.project_no,O,l.step]})),void 0!=i&&l.wp_idx!=i||(s.push(m),d.push(m))}return{sendList:s,recvList:d,sendListNowOrder:o}}(t,e,n,r,mt,B,q),s=i.sendListNowOrder,d=i.sendList,u=i.recvList;if("tm"===B)if(1==mt&&d.length>0){var l=function(e,t){var n;if(0!=(n=e.filter((function(e,n){return e.wp_idx==t[n][0]&&0==t[n][1]}))).length){var r,a=Object(c.a)(n);try{var i=function(){for(var n=r.value,a=[],c=n,i=!0,o=function(){var n=t.find((function(e){return e[1]==c.wp_idx}));if(void 0!=n){var r=e.find((function(e){return e.wp_idx==n[0]}));c=r,a.push(r)}else i=!1};i;)o();0!=a.length&&a.map((function(t,r){var a=e.findIndex((function(e){return e.wp_idx==t.wp_idx}));e.splice(a,1);var c=e.findIndex((function(e){return e.wp_idx==n.wp_idx}));e.splice(c+r+1,0,t)}))};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}return{rootData:n,sendList:e}}(d,s);d=l.sendList,Rt(l.rootData),Te(Object(o.a)(d))}else 2==mt&&u.length>0&&Le(Object(o.a)(function(e){var t;if(0!=(t=e.filter((function(e){return 0==e.now_order[5]}))).length){var n,r=Object(c.a)(t);try{var a=function(){for(var t=n.value,r=[],a=t,c=!0;void 0!=c;)void 0!=(c=e.find((function(e){return e.now_order[5]==a.wp_idx})))&&(a=c,r.push(c));0!=r.length&&r.map((function(n,r){var a=e.findIndex((function(e){return e.wp_idx==n.wp_idx}));e.splice(a,1);var c=e.findIndex((function(e){return e.wp_idx==t.wp_idx}));""!=n.now_order[7]&&void 0!=n.now_order[7]||(n.now_order[7]=!0),e.splice(c+r+1,0,n)}))};for(r.s();!(n=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}}return e}(u)));else Te(Object(o.a)(d)),Le(Object(o.a)(u));tn(a),Ln>Math.floor(a/z)+1&&Pn(1),setTimeout((function(){ce(!1)}),1e3)}else lt([]),tn(0),V.is_loading||0!=ut.length||setTimeout((function(){ce(!1)}),3e3)}),[V.work_proc_list]),Object(d.useEffect)((function(){if("tm"==B&&2==mt)We(C),Xe(Y),Je(S);else{var e=[v,k],t=[_,w];We([m,y][mt-1]),Xe(e[mt-1]),Je(t[mt-1])}1==mt?Ie.length>0?(lt(Ie),Et(D)):(lt([]),Et(m)):2==mt&&(Ne.length>0?(lt(Ne),Et(M)):(lt([]),Et(y)))}),[Ie,Ne]),Object(d.useEffect)((function(){if(Zt.length>0){var e=V.work_proc_list,t=function(e,t){var n,r=[],a=[],i=Object(c.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t.findIndex((function(e){return e.wp_idx==o}));-1!=s&&(a.push(t[s].approvalState),r.push(t[s].registerType))}}catch(d){i.e(d)}finally{i.f()}return{list:r,order:a}}(Zt,e),n=t.list,r=t.order;r.length>0&&jn(-1==r.findIndex((function(e){return 0==e}))),n.length>0&&gn(-1==n.findIndex((function(e){return 0==e})))}else jn(!1),gn(!1)}),[Zt]),Object(d.useEffect)((function(){void 0!=V.approve_work_assign&&setTimeout((function(){Object(j.j)("\uacb0\uc7ac\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),qt([]),xt(-1),Gt([]),rr(),ce(!1)}),1e3)}),[V.approve_work_assign]);var qn=function(){he(!1),ve(!1),de(!1),ye(!1),xt(-1)},Kn=function(e){if(void 0!=e){t(Object(b.tk)([e])),t(Object(b.Pf)());var n=Object(x.a)({us:1,skip:Wn,searchData:Tn,selectedType:Dn,startDay:h()(vn).format("YYYY-MM-DD"),endDay:h()(yn).format("YYYY-MM-DD")}),r="".concat(e,"?").concat(n);O("din"==B?"/edms/din/detail/".concat(r):"drn"==B?"/edms/drn/detail/".concat(r):"/edms/tm/detail/".concat(r))}},Xn=function(){var e=Object(i.a)(a.a.mark((function e(n,r,i){var o,s,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he(!1),ce(!0),Bt.length>0&&(t(Object(b.tk)(Bt)),t(Object(b.Pf)())),-1==gt){e.next=8;break}return e.next=6,t(Object(b.k)(gt,n,r,B,jt,i));case 6:e.next=25;break;case 8:if(!(-1==gt&&Zt.length>0)){e.next=25;break}o=Object(c.a)(Zt),e.prev=10,d=a.a.mark((function e(){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.value,!(o=V.work_proc_list.find((function(e){return e.wp_idx==c})))){e.next=5;break}return e.next=5,t(Object(b.k)(o.waIdx,n,r,B,c,i));case 5:case"end":return e.stop()}}),e)})),o.s();case 13:if((s=o.n()).done){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(10),o.e(e.t1);case 22:return e.prev=22,o.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[10,19,22,25]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(i.a)(a.a.mark((function e(n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(!1),ce(!0),Bt.length>0&&(t(Object(b.tk)(Bt)),t(Object(b.Pf)())),e.next=5,t(Object(b.Rj)(n,r,gt,jt));case 5:setTimeout((function(){qt([]),Object(j.j)("\uacb0\uc7ac\uc644\ub8cc"),rr(),ce(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gn=function(){var e=new Date;e.setMonth(e.getMonth()-1),Sn(new Date),mn(e)},Qn=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(b.Lh)([n.wp_idx])),t(Object(b.ah)(n.wp_idx)),Ve([n.wp_idx]),qt([n.wp_idx]),setTimeout((function(){de(!0)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vn=function(e){return Object(N.jsx)($.o,{style:{justifyContent:"flex-start",background:"#fff"},children:Object(N.jsx)($.m,{style:{paddingLeft:"10px"},onClick:function(){return Kn(ut[e].wp_idx)},children:ut[e]?ut[e].subject:""})})},er=function(e){if(void 0!=ut[e]&&void 0!=ut[e].due_date){var t=ut[e],n={};Object.assign(n,{background:"#fff"});var r={};return Object(d.useMemo)((function(){if(2==t.now_order[1]&&"drn"!=B){var e=-1;return 0!=t.now_order[0].length&&(e=t.now_order[0][0].user_id),P(n,r,t.assign_state,!1,or,e==nt?[1,t]:[-1,null])}return"drn"==B?P(n,r,t.assign_state,!0,or,[2,t]):1==t.now_order[3]&&3==t.now_order[1]?(Object.assign(r,{backgroundColor:"#ccc"}),P(n,r,"\uacb0\uc7ac\uc644\ub8cc",!1,or,[-1,null])):4==t.now_order[1]&&"drn"!=B?(Object.assign(r,{backgroundColor:"#ccc"}),P(n,r,"\ud68c\uc2e0\uc644\ub8cc",!1,or,[-1,null])):"tm"===B?5==t.now_order[1]?(Object.assign(r,{backgroundColor:"#FE6E64"}),t.now_order[7]?P(n,r,t.assign_state,!1,or,[3,t]):P(n,r,t.assign_state,!1,or,[-1,null])):6==t.now_order[1]?P(n,r,t.assign_state,!1,or,[1,t]):7==t.now_order[1]||14==t.now_order[1]?(Object.assign(r,{background:"#ccc"}),P(n,r,t.assign_state,!1,or,[-1,null])):8==t.now_order[1]||19==t.now_order[1]?P(n,r,t.assign_state,!1,or,[4,t]):13==t.now_order[1]?P(n,r,t.assign_state,!1,or,[1,t]):9==t.now_order[1]||10==t.now_order[1]||11==t.now_order[1]||12==t.now_order[1]||14==t.now_order[1]||t.now_order[1]>=15?P(n,r,t.assign_state,!0,or,[2,t]):(Object.assign(r,{backgroundColor:"#ccc"}),P(n,r,t.assign_state,!1,or,[-1,null])):"\ubc18\ub824"===t.assign_state?(Object.assign(r,{backgroundColor:"#ccc"}),P(n,r,t.assign_state,!1,or,[-1,null])):(Object.assign(r,{backgroundColor:"#ccc"}),P(n,r,"drn"==B?"\uacb0\uc7ac\ub300\uae30":"\ud68c\uc2e0\ub300\uae30",!1,or,[-1,null]))}),[t])}return Object(N.jsx)($.o,{style:{background:"#fff"}})},tr=function(e,t){if(void 0!=ut[e]){var n,r=ut[e],a=[];return"tm"==t?a.push({label:"\uae30\uc548"},{label:"\ub0b4\ubd80\uacb0\uc7ac"},{label:"\ubc1c\uc2e0"},{label:"\uc811\uc218"},{label:"\uac80\ud1a0"},{label:"\ud68c\uc2e0\uacb0\uc7ac"},{label:"\ud68c\uc2e0"}):"drn"==t&&a.push({label:"\ub9ac\ubdf0\uc694\uccad"},{label:"\uac80\ud1a0\uc911"},{label:"\uac80\ud1a0\uc644\ub8cc"}),n=parseInt(r.now_order[10]),Object(N.jsx)($.p,{placement:"left",arrow:!0,title:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(p.X,{steps:a,step:n})}),children:Object(N.jsx)($.o,{style:{textAlign:"center",background:"#fff"},children:r.assign_state})})}return Object(N.jsx)($.o,{})},nr=function(e,t){"start"==t?mn(h()(e).toDate()):"end"==t&&Sn(h()(e).toDate())},rr=function(){var e=Object(i.a)(a.a.mark((function e(n,r){var c,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!0),void 0!=r&&wt(r),!n||n!=Wn){e.next=5;break}return ce(!1),e.abrupt("return");case 5:return/^\s+$/.test(c=Tn)&&(c=""),i=yn?h()(yn).add(1,"day").format("YYYY-MM-DD"):h()().add(1,"day").format("YYYY-MM-DD"),o=vn?h()(vn).format("YYYY-MM-DD"):h()().add(-1,"month").format("YYYY-MM-DD"),(0==n&&Jn||void 0!=n&&0!=n)&&(s=Object(x.a)({us:1,searchText:Tn,projectTypeNo:an,selectedType:Dn,skip:n,take:z,startDate:o,endDate:i}),cr(s)),e.next=12,t(Object(b.Nh)(mt,B,an,!1,Dn,c,vn,i,void 0!=n?n:Wn,z));case 12:n&&(An(n),Pn(g(n,z)));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ar=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!=Q.edms_level){e.next=4;break}return e.next=3,t(Object(b.Jh)(n));case 3:setTimeout((function(){De(n),ye(!0)}),200);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cr=function(e){var t=A.state;if(t){var n=t.dataState;Jn?W("".concat(r,"?").concat(e),{dataState:n}):(F("".concat(r,"?").concat(e),{dataState:n}),Bn(!0))}else Jn?W("".concat(r,"?").concat(e),null):(F("".concat(r,"?").concat(e),null),Bn(!0))},ir=function(){Bn(!1),tn(0),An(0),Pn(1),zn(""),Mn(1),cn(-1)},or=function(e,t){switch(e){case 1:var n=t.now_order[2],r=t.wp_idx,a=!1;13==t.now_order[1]&&(a=!0),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];qt([n]),pt(n),xt(e),$t(t),r?ve(!0):he(!0)}(n,0,r,a);break;case 2:Kn(t.wp_idx);break;case 3:var c="\ubc18\ub824\uc0ac\uc720 ".concat(t.now_order[7]);Object(j.j)(c);break;case 4:Qn(t)}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("style",{children:"\n                    \n                    .k-toolbar {\n                        height : 50px;\n                        margin-right : 10px;\n                        background-color:#fff;\n                    }\n                   \n                 "}),Object(N.jsx)(j.g,{open:ae}),Object(N.jsx)(p.O,{children:Object(N.jsxs)($.b,{children:[Object(N.jsx)(j.k,{text:"\uccb4\ud06c\ubc15\uc2a4 \ud558\ub098\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",close:function(){return be(!1)},visible:fe,type:"warning",style:{position:"absolute",bottom:100,right:100,alignItems:"center"}}),Object(N.jsx)(p.Mb,{wptype:B,visible:Oe,onClose:qn,completeType:zt,onDrnComplete:Xn}),Object(N.jsx)(p.Y,{wptype:B,visible:_e,onClose:qn,onTmComplete:Zn}),Object(N.jsx)(p.D,{visible:se,title:St,onClose:qn,wpIdxList:Qe,selectedWpIdxList:Bt,unreadWorksData:At}),Object(N.jsx)(p.U,{wpIdx:Ce,isAdmin:it,visible:ke,onClose:qn}),Object(N.jsx)($.u,{children:Object(N.jsxs)($.k,{children:[Object(N.jsx)($.l,{children:Object(N.jsxs)($.j,{children:[Object(N.jsxs)($.d,{value:mt,onChange:function(e){return n=parseInt(e.target.value),t(Object(b.Ji)(n)),void rr(void 0,n);var n},disableUnderline:!0,children:[Object(N.jsx)($.e,{value:1,children:"\ubc1c\uc2e0\ud568"}),Object(N.jsx)($.e,{value:2,children:"\ubcf4\uad00\ud568"})]}),Object(N.jsxs)($.d,{value:an,onChange:function(e){return cn(parseInt(e.target.value))},disableUnderline:!0,children:[Object(N.jsx)($.e,{value:-1,children:"\ud504\ub85c\uc81d\ud2b8 \uc120\ud0dd"}),dn&&dn.map((function(e,t){return Object(N.jsx)($.e,{value:e.project_no,children:e.project_name},e.project_name+t)}))]}),Object(N.jsxs)($.g,{children:[Object(N.jsx)($.c,{type:"date",id:"date-picker-inline",max:h()(yn).format("YYYY-MM-DD"),value:h()(vn).format("YYYY-MM-DD"),onChange:function(e){return nr(e.target.value,"start")}}),"~",Object(N.jsx)($.c,{type:"date",id:"date-picker-inline",value:h()(yn).format("YYYY-MM-DD"),min:h()(vn).format("YYYY-MM-DD"),onChange:function(e){return nr(e.target.value,"end")}})]}),Object(N.jsxs)($.i,{value:Dn,onChange:function(e){return Mn(parseInt(e.target.value))},disableUnderline:!0,children:[Object(N.jsx)($.e,{value:1,children:"\uc81c\ubaa9"}),Object(N.jsx)($.e,{value:2,children:"TR. No."}),Object(N.jsx)($.e,{value:3,children:"\ubb38\uc11c \ucf54\ub4dc"}),Object(N.jsx)($.e,{value:4,children:"\ubb38\uc11c \uc81c\ubaa9"})]}),Object(N.jsx)($.h,{value:Tn,onChange:function(e){return zn(e.target.value)},onKeyUp:function(e){"Enter"==e.key&&rr()},InputProps:{disableUnderline:!0},autoComplete:"new-password"}),Object(N.jsx)($.f,{onClick:function(){return rr()},children:"\uac80\uc0c9\ud558\uae30"}),Object(N.jsx)($.s,{children:2==mt&&"tm"==B&&Object(N.jsxs)($.r,{children:[Object(N.jsx)($.q,{$approval:bn,onClick:1==bn?function(){qt(Zt),$t(0),he(!0)}:void 0,children:"\uacb0\uc7ac"}),Object(N.jsx)($.t,{$register:hn,onClick:1==hn?function(){Yt([]),t(Object(b.Lh)(Zt)),qt(Zt),Ve(Zt),setTimeout((function(){de(!0)}),1e3)}:void 0,children:"\uc811\uc218 \ubc0f \ubc30\ud3ec"})]})})]})}),Object(N.jsx)($.v,{children:Object(N.jsx)(j.c,{titles:Ue||[],keys:Mt,values:Object.values(ut),fullData:ut,keysWidth:He,rowClass:"background-color-white color-light-black",headerClass:"background-dark-sky-blue color-white align-center",getCustomEl:function(e,t,n,r){var a=r?ut.findIndex((function(e){return e.wp_idx==r.wp_idx})):-1;if(0==e&&"tm"==B&&void 0==t)return!0;if(1==mt&&-1!=E.indexOf(e)&&void 0==t)return!0;if(2==mt&&"tm"!=B&&-1!=I.indexOf(e)&&void 0==t)return!0;if(2==mt&&"tm"==B&&-1!=T.indexOf(e)&&void 0==t)return!0;if(1==mt){if(0===e&&"tm"==B)return function(e,t,n){if(e[n]){var r=e[n],a=0!=t.filter((function(e){return e.wp_idx==r.wp_idx})).length;return Object(N.jsx)($.o,{style:{justifyContent:"flex-start",textAlign:"center"},children:0==t.length||a?e[n].wp_idx:Object(N.jsx)("div",{style:{fontWeight:600,fontSize:"1em",color:"#333"},children:"\u2516"})})}return Object(N.jsx)($.o,{})}(ut,Pt,a);if(2===e)return Vn(a);if(3==e)return L(ut,a)}else if(2==mt)if("tm"==B){if(1===e)return function(e,t){if(e[t]){var n=e[t];return Object(N.jsx)($.o,{style:{justifyContent:"flex-start",textAlign:"center",background:"#fff"},children:n.now_order&&n.now_order[5]>0&&void 0!=n.now_order[7]&&n.now_order[7]?Object(N.jsx)("div",{style:{fontWeight:600,fontSize:"1em",color:"#333"},children:"\u2516"}):e[t].wp_idx})}return Object(N.jsx)($.o,{})}(ut,a);if(3===e)return Vn(a);if(6==e)return L(ut,a);if(9==e)return tr(a,"tm");if(10==e)return function(e,t,n){var r=e[t];return void 0!=r?Object(N.jsx)($.o,{style:{textAlign:"center",background:"#fff"},children:Object(N.jsx)($.m,{onClick:function(){return n(r.wp_idx)},children:r.is_fin_count})}):Object(N.jsx)($.o,{})}(ut,a,ar);if(11==e)return er(a)}else if("drn"==B){if(2===e)return Vn(a);if(5==e)return L(ut,a);if(8==e)return tr(a,"drn");if(9==e)return er(a)}else if("din"==B){if(2===e)return Vn(a);if(5==e)return L(ut,a)}return null},keysWidthTotal:2==mt&&"tm"==B?3:7,datatype:Ke,reorderable:!0,sortable:!0,excelFilename:"".concat(Z.format("YYYY-MM-DD"),"_").concat(B.toUpperCase()),pageable:!0,pagefake:!0,pagecount:z,onPageChange:function(e,t,n){An(e),Wn!=e&&(ce(!0),ae||rr(e),setTimeout((function(){ce(!1)}),3e3))},nowPageSize:en,nowPage:Ln,isSelect:2==mt&&"tm"==B,onChangeSelect:function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];!0===e[a]&&t.push(parseInt(a))}Gt([].concat(t))},selectKey:"check_wp_idx"})})]})})]})})]})}}}]);