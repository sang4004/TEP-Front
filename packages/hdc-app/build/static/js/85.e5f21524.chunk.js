(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[85],{2081:function(e,t,n){"use strict";n.r(t);var c,i,a,d,l,r,o,s,j=n(23),u=n(6),f=n.n(u),b=n(11),O=n(5),h=n(12),x=n(77),p=n(30),_=n(16),g=n(9),m=n(0),w=n(14),v=n(3),y=n(2),S=n(178),k=y.a.div(c||(c=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n"]))),E=y.a.div(i||(i=Object(v.a)(["\n    width: 100%;\n    display: flex;\n    padding: 1% 0;\n    flex-direction: column;\n"]))),A=Object(y.a)(S.a)(a||(a=Object(v.a)(["\n    min-height: 30px;\n    width: 100%;\n    color: #fff;\n    background-color: #ff6358;\n    font-size: 1.1em;\n    margin: 0 auto 0 1%;\n    &:hover {\n        opacity: 0.75;\n        background-color: #ff6358;\n    }\n"]))),z=y.a.div(d||(d=Object(v.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-top: 1%;\n"]))),C=y.a.div(l||(l=Object(v.a)(["\n    min-width: 10%;\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n    margin: 0 1% 0 auto;\n"]))),I=y.a.div(r||(r=Object(v.a)(["\n    display: flex;\n    width: ",";\n    flex-direction: column;\n"])),(function(e){return e.width?e.width+"%":"width : 5%"})),R=y.a.div(o||(o=Object(v.a)(["\n    text-align: center;\n    background-color: rgba(33, 150, 243);\n    color: #fff;\n    padding: 6px 8px;\n    box-sizing: border-box;\n    font-size: 1em;\n"]))),T=y.a.div(s||(s=Object(v.a)(["\n    font-size: 0.9em;\n    padding: 6px 8px;\n    box-sizing: border-box;\n    text-align: ",";\n"])),(function(e){return e.textAlign?e.textAlign:"center"})),D=n(1);t.default=function(e){var t=Object(h.c)(),n=Object(p.b)(),c=n.path,i=n.searchParam,a=Object(h.d)((function(e){return e.pdfdata})),d=Object(h.d)((function(e){return e.user})),l=Object(h.d)((function(e){return e.document})),r=Object(h.d)((function(e){return e.files})),o=Object(h.d)((function(e){return e.authority})),s=Object(m.useState)(""),u=Object(O.a)(s,2),v=u[0],y=u[1],S=Object(m.useState)(null),F=Object(O.a)(S,2),J=F[0],N=F[1],P=Object(m.useState)(null),U=Object(O.a)(P,2),B=U[0],V=(U[1],Object(m.useState)(!1)),q=Object(O.a)(V,2),G=q[0],H=q[1],K=Object(m.useState)({}),L=Object(O.a)(K,2),M=L[0],Q=L[1],W=Object(m.useState)(!1),X=Object(O.a)(W,2),Y=(X[0],X[1],Object(m.useState)("")),Z=Object(O.a)(Y,2),$=Z[0],ee=Z[1],te=Object(m.useState)([]),ne=Object(O.a)(te,2),ce=(ne[0],ne[1]),ie=Object(m.useState)(),ae=Object(O.a)(ie,2),de=ae[0],le=ae[1],re=Object(m.useState)(),oe=Object(O.a)(re,2),se=oe[0],je=oe[1],ue=Object(m.useState)(),fe=Object(O.a)(ue,2),be=fe[0],Oe=fe[1],he=Object(x.i)().file_no,xe=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("pdfviewer-tag"),(c=new window.StreamDocs({element:n})).document.open({streamdocsId:t}).then((function(e){console.log(e,n),c.preference.set({annotationAuthor:d.username}),N(n)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){if(c){var e=Number(i.get("page_type"));void 0!=e&&je(e)}}),[c,i]),Object(m.useEffect)((function(){void 0!=se&&(H(!0),t(Object(g.Vf)()),t(Object(g.vg)(he,se)),setTimeout((function(){H(!1)}),5e3))}),[se]),Object(m.useEffect)((function(){if(r.file_detail&&void 0!=r.file_detail){ee(r.file_detail.file.file_name),le(r.file_detail.file.docu_no);var e=r.file_detail.file.file_name,n=r.file_detail.file.repo_path;n.length>1&&((n=n.split(".")).pop(),n=n.join(".")+".pdf",y("".concat(_.g,"/filedownload/edms/docuact/").concat(encodeURIComponent(n),"?filename=").concat(encodeURIComponent(e))),0==se?t(Object(g.ch)(he)):1==se&&t(Object(g.bh)(he))),r.file_detail.proc&&Oe(r.file_detail.proc)}}),[r.file_detail]),Object(m.useEffect)((function(){de&&de>0&&t(Object(g.ag)(de))}),[de]),Object(m.useEffect)((function(){if(o.docu_authority&&o.docu_authority.length>0){var e,t=[],n=Object(j.a)(o.docu_authority);try{for(n.s();!(e=n.n()).done;){var c=e.value;t.push(c)}}catch(i){n.e(i)}finally{n.f()}ce([].concat(t))}}),[o.docu_authority]),Object(m.useEffect)((function(){a.pdf_data&&null!=a.pdf_data?xe(a.pdf_data.sid):r&&r.file_detail&&(Object(w.i)("".concat(r.file_detail.file.file_name,"\n \ud30c\uc77c\uc744 \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),H(!1))}),[a.pdf_data]),Object(m.useEffect)((function(){null!=J&&H(!1)}),[J,B]),Object(m.useEffect)((function(){l.document_detail&&void 0!=l.document_detail&&Q(l.document_detail)}),[l.document_detail]);var pe=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open(v,"_blank");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("style",{children:"\n                    #container, #container_mainContainer{\n                        min-height: 0px !important;\n                    }\n                "}),Object(D.jsxs)(k,{id:"pdfviewer",children:[Object(D.jsx)(w.g,{open:G}),Object(D.jsxs)(E,{children:[Object(D.jsx)(C,{children:Object(D.jsx)(A,{onClick:pe,children:"\uc6d0\ubcf8 \uc800\uc7a5"})}),1!=se&&Object(D.jsxs)(z,{children:[Object(D.jsxs)(I,{width:15,children:[Object(D.jsx)(R,{children:"\ubb38\uc11c\ucf54\ub4dc"}),Object(D.jsx)(T,{children:null===M.docu_code?"-":M.docu_code})]}),Object(D.jsxs)(I,{width:30,children:[Object(D.jsx)(R,{children:"\ubb38\uc11c\uc81c\ubaa9"}),Object(D.jsx)(T,{children:null===M.docu_subject?"-":M.docu_subject})]}),Object(D.jsxs)(I,{width:35,children:[Object(D.jsx)(R,{children:"\ud30c\uc77c\uba85"}),Object(D.jsx)(T,{children:null===$?"-":$})]}),Object(D.jsxs)(I,{width:10,children:[Object(D.jsx)(R,{children:"\ud30c\uc77c\uc720\ud615"}),Object(D.jsx)(T,{textAlign:"center",children:null===M.docu_type?"-":function(e){switch(e){case"001":return"\ub3c4\uba74";case"002":return"PDF";case"003":return"\ubb38\uc11c";default:return"\ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}}(M.docu_type)})]}),Object(D.jsxs)(I,{width:10,children:[Object(D.jsx)(R,{children:"\ucd5c\uc885\uc2a4\ud14c\uc774\uc9c0"}),Object(D.jsx)(T,{textAlign:"center",children:null===M.stage_code||""===M.stage_code?"-":M.stage_code})]})]}),1==se&&be&&Object(D.jsxs)(z,{children:[Object(D.jsxs)(I,{width:30,children:[Object(D.jsx)(R,{children:"\ud30c\uc77c\uba85"}),Object(D.jsx)(T,{children:null===$?"-":$})]}),Object(D.jsxs)(I,{width:30,children:[Object(D.jsx)(R,{children:"TR.NO"}),Object(D.jsx)(T,{textAlign:"center",children:be.wp_code})]}),Object(D.jsxs)(I,{width:30,children:[Object(D.jsx)(R,{children:"TR\uc81c\ubaa9"}),Object(D.jsx)(T,{textAlign:"center",children:be.subject})]}),Object(D.jsxs)(I,{width:10,children:[Object(D.jsx)(R,{children:"\ud30c\uc77c\uc720\ud615"}),Object(D.jsx)(T,{textAlign:"center",children:r.file_detail.file&&null===r.file_detail.file.file_ext?"-":r.file_detail.file.file_ext})]})]})]}),Object(D.jsx)("iframe",{id:"pdfviewer-tag",src:"".concat(_.h,"view/sd"),style:{width:"100%",height:"100%"}})]})]})}}}]);