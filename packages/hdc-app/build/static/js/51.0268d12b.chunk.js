(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[51],{1414:function(t,e,n){"use strict";n.d(e,"e",(function(){return E})),n.d(e,"i",(function(){return D})),n.d(e,"a",(function(){return T})),n.d(e,"c",(function(){return B})),n.d(e,"l",(function(){return M})),n.d(e,"m",(function(){return W})),n.d(e,"j",(function(){return Y})),n.d(e,"k",(function(){return N})),n.d(e,"d",(function(){return R})),n.d(e,"f",(function(){return V})),n.d(e,"g",(function(){return q})),n.d(e,"b",(function(){return J})),n.d(e,"o",(function(){return P})),n.d(e,"n",(function(){return H})),n.d(e,"p",(function(){return L})),n.d(e,"u",(function(){return $})),n.d(e,"r",(function(){return G})),n.d(e,"h",(function(){return K})),n.d(e,"t",(function(){return Q})),n.d(e,"s",(function(){return U})),n.d(e,"q",(function(){return X}));var c,i,a,r,o,s,d,l,u,b,j,f,p,x,O,h,g,m,v,_,y,k,w,A,S,C=n(3),F=n(2),I=n(636),z=n(142),E=(F.a.div(c||(c=Object(C.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n    height: 90%;\n    margin-top: -4%;\n    padding: 2%;\n    box-sizing: border-box;\n    padding-top: 0;\n"]))),F.a.div(i||(i=Object(C.a)(["\n    display: flex;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    border-radius: 10px;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n"])))),D=F.a.div(a||(a=Object(C.a)(["\n    width: 15%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    border-right: 1px solid #ccc;\n"]))),T=F.a.div(r||(r=Object(C.a)(["\n    height: 50px;\n    border-bottom: 1px solid #ccc;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px;\n    box-sizing: border-box;\n"]))),B=F.a.div(o||(o=Object(C.a)(["\n    overflow: auto;\n    flex: 1;\n"]))),M=F.a.div(s||(s=Object(C.a)(["\n    font-weight: 700;\n"]))),W=F.a.div(d||(d=Object(C.a)(["\n    width: 85%;\n"]))),Y=F.a.div(l||(l=Object(C.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n    padding: 0 10px;\n    box-sizing: border-box;\n    border-bottom: 1px solid #ccc;\n"]))),N=F.a.div(u||(u=Object(C.a)(["\n    float: left;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    font-weight: 700;\n    img {\n        margin-right: 10px;\n    }\n"]))),R=F.a.div(b||(b=Object(C.a)(["\n    display: flex;\n    font-size: 12px;\n    margin-left: 20px;\n    margin-top: 5px;\n    color: #666;\n"]))),V=F.a.div(j||(j=Object(C.a)([""]))),q=F.a.div(f||(f=Object(C.a)(["\n    margin: 0 5px;\n"]))),J=F.a.button(p||(p=Object(C.a)(["\n    float: right;\n    min-width: 154px;\n    height: 36px;\n    padding: 5px 20px;\n    border-radius: 5px;\n    margin-right: 10px;\n    box-sizing: border-box;\n    ",";\n    &:hover {\n        ",";\n    }\n    color: #fff;\n"])),z.c,z.d),P=F.a.div(x||(x=Object(C.a)(["\n    float: right;\n    min-width: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 10px;\n"]))),H=F.a.input.attrs({type:"checkbox"})(O||(O=Object(C.a)(["\n    margin-right: 10px;\n"]))),L=F.a.button(h||(h=Object(C.a)(["\n    float: right;\n    min-width: 154px;\n    height: 30px;\n    padding: 5px 20px;\n    border-radius: 5px;\n    margin-right: 10px;\n    box-sizing: border-box;\n    ",";\n    &:hover {\n        ",";\n    }\n    color: #fff;\n"])),z.e,z.f),$=(F.a.div(g||(g=Object(C.a)(["\n    float: right;\n    display: flex;\n    input {\n        display: block;\n        padding: 5px;\n        box-sizing: border-box;\n        font-size: 14px;\n        margin-right: 10px;\n    }\n"]))),F.a.div(m||(m=Object(C.a)(["\n    float: right;\n    display: flex;\n    input {\n        display: block;\n        padding: 5px;\n        width: 100%;\n        font-size: 14px;\n        margin-right: 10px;\n    }\n"])))),G=F.a.div(v||(v=Object(C.a)(["\n    float: right;\n    display: flex;\n    border : 1px solid;\n    border-radius : 4px;\n    margin-left : 5px;\n    padding : 1px;\n    input {\n        display: block;\n        padding: 5px;\n        box-sizing: border-box;\n        font-size: 14px;\n        margin-right: 10px;\n        background-color: #fafafa;\n    }\n"]))),K=F.a.button(_||(_=Object(C.a)(["\n    width: 18px;\n    img {\n        display: block;\n    }\n"]))),Q=F.a.button(y||(y=Object(C.a)(["\n    width: 20px;\n    img {\n        display: block;\n    }\n"]))),U=F.a.img(k||(k=Object(C.a)(["\n    margin-right: 6px;\n    width: 16px;\n    height: 16px;\n"]))),X=F.a.div(w||(w=Object(C.a)(["\n    width: calc(100% + 8px);\n    height: calc(100% - 50px);\n    overflow-y: scroll;\n"])));F.a.div(A||(A=Object(C.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    height: 100%;\n    padding: 8px 12px;\n    flex: 1;\n    border-left: 1px solid #ebebeb;\n    border-bottom: 1px solid #ebebeb;\n"]))),Object(F.a)(I.a)(S||(S=Object(C.a)([""])))},2070:function(t,e,n){"use strict";n.r(e);var c=n(6),i=n.n(c),a=n(11),r=n(23),o=n(13),s=n(5),d=n(1414),l=n(78),u=n(12),b=n(14),j=n(139),f=n(638),p=n(0),x=n(30),O=n.p+"static/media/worklist_dep3.e5f89695.svg",h=n.p+"static/media/worklist_dep4.36bd0779.svg",g=n(9),m=n(38),v=n(45),_=n.n(v),y=n(1),k=[1,1,1,1,1,1,1,1,1,1,1,1,1],w=[.4,.4,2.6,1,1,1,1,1,1,.6,.6,.6,.5],A=["\uc120\ud0dd","No","\ubb38\uc11c \ucf54\ub4dc/\uc81c\ubaa9","\uc2e4\uc801\ud30c\uc77c\uc218\ub7c9","Start","IFA Issue (A)","IFA_Approval","AFC Approval(REV.0)","As-Built","W/V( % )","Plan( % )","Actual( % )","Remark"];e.default=function(t){var e=Object(u.c)(),n=Object(x.b)().pushHistory,c=Object(p.useState)(!1),v=Object(s.a)(c,2),S=(v[0],v[1],Object(u.d)((function(t){return t.document}))),C=Object(u.d)((function(t){return t.category})),F=Object(u.d)((function(t){return t.project})),I=Object(p.useState)([]),z=Object(s.a)(I,2),E=z[0],D=z[1],T=Object(p.useState)(null),B=Object(s.a)(T,2),M=B[0],W=B[1],Y=Object(p.useState)(""),N=Object(s.a)(Y,2),R=N[0],V=N[1],q=Object(p.useState)(""),J=Object(s.a)(q,2),P=J[0],H=J[1],L=Object(p.useState)([]),$=Object(s.a)(L,2),G=$[0],K=$[1],Q=Object(p.useState)([]),U=Object(s.a)(Q,2),X=U[0],Z=U[1],tt=Object(p.useState)([]),et=Object(s.a)(tt,2),nt=et[0],ct=et[1],it=Object(p.useState)(-1),at=Object(s.a)(it,2),rt=at[0],ot=at[1],st=Object(p.useState)(-1),dt=Object(s.a)(st,2),lt=dt[0],ut=dt[1],bt=Object(p.useState)(!1),jt=Object(s.a)(bt,2),ft=jt[0],pt=jt[1],xt=Object(p.useState)(""),Ot=Object(s.a)(xt,2),ht=Ot[0],gt=Ot[1],mt=Object(p.useState)([]),vt=Object(s.a)(mt,2),_t=vt[0],yt=vt[1],kt=Object(p.useState)(!1),wt=Object(s.a)(kt,2),At=wt[0],St=wt[1],Ct=Object(p.useState)(!1),Ft=Object(s.a)(Ct,2),It=Ft[0],zt=Ft[1];Object(p.useEffect)((function(){e(Object(g.Nf)())}),[]),Object(p.useEffect)((function(){-1!==lt&&e(Object(g.bg)(lt))}),[lt]),Object(p.useEffect)((function(){if(S.document_list&&S.document_list.length>0){var t,e=Object(o.a)(S.document_list),n=[],c=1,i=Object(r.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=Object.values(a);n=[].concat(Object(o.a)(n),[{id:a.docu_no,no:c,docu:a.docu_code+"/"+a.docu_subject,files:a.file_list,Start:Et(s[18]),IFA_Issue:Et(s[19]),IFA_Approve:Et(s[20]),AFC_Approval:Et(s[22]),As_Built:Et(s[23]),W_V:"10%",Plan:"20%",Actual:"30%",Remark:""}]),c+=1}}catch(d){i.e(d)}finally{i.f()}K(n)}}),[S.document_list]),Object(p.useEffect)((function(){C.cate_proj_list&&C.cate_proj_list.length>0&&Z(Object(o.a)(C.cate_proj_list))}),[C.cate_proj_list]),Object(p.useEffect)((function(){C.edms_cate_status_list&&C.edms_cate_status_list.length>0?(ct(Object(o.a)(C.edms_cate_status_list)),setTimeout((function(){zt(!1)}),500)):(ct([]),D([]),zt(!1))}),[C.edms_cate_status_list]),Object(p.useEffect)((function(){nt.length>0&&X.length>0&&Dt(),setTimeout((function(){zt(!1)}),1e3)}),[nt,X]),Object(p.useEffect)((function(){void 0!==F.now_project_no&&(zt(!0),ot(F.now_project_no),e(Object(g.hg)()))}),[F.now_project_no]),Object(p.useEffect)((function(){if(M){var t=M.id;try{var e=t.slice(0,1),n=t.slice(2,3);V(E[parseInt(e)].text),H(E[parseInt(e)].items[parseInt(n)].text)}catch(c){V(""),H("")}}else V(""),H("")}),[M]),Object(p.useEffect)((function(){Dt(ht)}),[ht]);var Et=function(t){if(t)return t.action&&null!=t.action?{date:_()(t.action).format("YY-MM-DD"),flag:t.flag}:t.plan&&null!=t.plan?{date:_()(t.plan).format("YY-MM-DD"),flag:t.flag}:""},Dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(0!=X.length){X.filter((function(t){return t.project_no===rt}))[0];var e,n=[],c=[],i=Object(r.a)(nt);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=t&&-1==a.cate_name.indexOf(t);0===a.pcate_no&&(n.push({text:a.cate_name,id:n.length,type:"pcategory",items:[],expanded:!0,cate_no:a.cate_no,is_expand:o}),c.push(a.cate_name))}}catch(u){i.e(u)}finally{i.f()}var s,d=Object(r.a)(nt);try{var l=function(){var e=s.value;if(n.length>0&&0!=e.pcate_no){var i=nt.filter((function(t){return t.cate_no===e.pcate_no}))[0];if(0!=i.length)try{if(t&&-1==e.cate_name.indexOf(t))return"continue";var a=t&&-1==e.cate_name.indexOf(t),r=c.indexOf(i.cate_name);n[r].items.push({text:e.cate_name,id:n[r].id+"_"+n[r].items.length,type:"category",items:[],expanded:!0,cate_no:e.cate_no,is_expand:a})}catch(u){D([])}}};for(d.s();!(s=d.n()).done;)l()}catch(u){d.e(u)}finally{d.f()}D([].concat(n))}else D([])},Tt=function(){var t=Object(a.a)(i.a.mark((function t(){var e,n,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(_t.length>0)){t.next=6;break}e=[],n=Object(r.a)(_t);try{for(n.s();!(c=n.n()).done;)a=c.value,e.push(G[a].id)}catch(i){n.e(i)}finally{n.f()}return t.next=6,Object(m.k)("document","\ubb38\uc11c\uc2e4\uc801\uc77c\uad04\ub2e4\uc6b4\ub85c\ub4dc",e,At?0:1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Bt=function(t){n("/edms/docuact/detail/".concat(lt,"/").concat(S.document_list[t].docu_no))},Mt=function(){var t=Object(a.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0==_t.length&&Object(b.j)("\ubb38\uc11c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),_t.length>0&&(c=[],_t.map((function(t){var e=S.document_list[t];c.push(e.docu_no)})),e(Object(g.Bb)(c)),zt(!0),setTimeout((function(){zt(!1),Object(b.j)("\uc784\uc2dc\ubcf4\uad00\ud568 \ucd94\uac00\uc644\ub8cc"),n("/edms/tmpDocList")}),1e3));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.g,{open:It,style:{zIndex:1301}}),Object(y.jsxs)(f.O,{children:[Object(y.jsx)(f.ob,{visible:ft,onClose:function(){return pt(!1)}}),Object(y.jsxs)(d.e,{children:[Object(y.jsxs)(d.i,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)(d.l,{children:"\uce74\ud14c\uace0\ub9ac"})}),Object(y.jsxs)(d.u,{children:[Object(y.jsx)("input",{type:"text",placeholder:"\uc791\uc5c5\ud56d\ubaa9 \uac80\uc0c9",value:ht,onChange:function(t){return gt(t.target.value)}}),Object(y.jsx)(d.t,{children:Object(y.jsx)("img",{src:"assets/images/edms/search-solid.svg"})})]}),Object(y.jsx)(d.c,{children:Object(y.jsx)(j.a,{className:"edms_document_treeview",data:E,expandIcons:!0,onItemClick:function(t){"category"===t.item.type||"pcategory"===t.item.type?(W(t.item),ut(t.item.cate_no)):W(null)},onExpandChange:function(t){t.item.expanded=!t.item.expanded},item:function(t){switch(t.item.type){case"project":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.s,{src:O}),t.item.text]});case"pcategory":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.s,{src:h}),t.item.text]});case"category":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.s,{src:O}),t.item.text]});default:return Object(y.jsx)(y.Fragment,{})}}})})]}),Object(y.jsxs)(d.m,{children:[Object(y.jsxs)(d.j,{children:[Object(y.jsx)(d.k,{children:M&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{src:"assets/images/edms/worklist_dep3.svg",alt:""}),Object(y.jsx)("p",{children:M.text}),Object(y.jsxs)(d.d,{children:[Object(y.jsx)(d.f,{children:R}),Object(y.jsx)(d.g,{children:">"}),Object(y.jsx)(d.f,{children:P})]})]})}),Object(y.jsxs)(d.o,{children:[Object(y.jsx)(d.n,{checked:At,onChange:function(){St(!At)}}),"\ucd5c\uc2e0\ubc84\uc804"]}),Object(y.jsx)(d.p,{onClick:Mt,children:"\uc784\uc2dc\ubb38\uc11c\ud568\ucd94\uac00"}),Object(y.jsx)(d.p,{onClick:Tt,children:"\uc77c\uad04\ub2e4\uc6b4\ub85c\ub4dc"}),Object(y.jsx)(d.b,{onClick:function(){return pt(!0)},children:"\ubb38\uc11c \uc77c\uad04 \uc5c5\ub85c\ub4dc"})]}),Object(y.jsx)(d.q,{children:Object(y.jsx)(b.c,{titles:A,keys:Object.keys(G[0]),values:Object.values(G),fullData:G,keysWidth:w,datatype:k,rowClass:"background-color-white color-light-black",headerClass:"background-dark-sky-blue color-white align-center",getCustomEl:function(t,e){var n={};if(void 0!=e&&(n=G[e]),0===t)return void 0==e||Object(y.jsx)(l.o,{children:Object(y.jsx)(l.j,{checked:-1!=_t.indexOf(e),onChange:function(t){return function(t,e){t.target.checked?_t.push(e):_t.splice(_t.indexOf(e),1),yt(Object(o.a)(_t))}(t,e)}})});if(2===t){if(void 0==e)return!0;var c=[];return n&&n.docu&&(c=n.docu.split("/")),Object(y.jsxs)(l.o,{style:{color:"darkorange"},children:[Object(y.jsx)(l.k,{onClick:function(){Bt(e)},children:c[0]}),c[1]]})}if(t>=4&&t<=8){if(void 0==e||void 0==n||0==Object.keys(n).length)return!0;var i=null;return 4===t?i=n.Start:5===t?i=n.IFA_Issue:6===t?i=n.IFA_Approve:7===t?i=n.AFC_Approval:8===t&&(i=n.As_Built),i?Object(y.jsx)(l.o,{$dateType:i?i.flag:null,children:Object(y.jsx)(l.l,{children:i?i.date:""})}):Object(y.jsx)(l.o,{})}return null},keysWidthTotal:22})})]})]})]})]})}}}]);