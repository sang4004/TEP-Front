(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[81],{2038:function(e,t,c){"use strict";c.r(t);var n=c(23),i=c(5),r=c(12),o=c(0),s=c(638),a=c(14),l=c(265),j=c(78),d=c(9),u=c(45),b=c.n(u),p=c(1),h=[1,1,1,1,1,1,1,1,1,1,1,1,1],O=[.2,.5,.5,.6,.8,1.3,.3,.2,.4,1.5,.4,1.5,.2],m=["No","Project","Project Type","Discipline","Document Number","DESCRIPTION","Page / Sheet No","Rev","\uac80\ud1a0\uacb0\uacfc(*Note)","Review Comment","\uc791\uc131\uc790","Reply","\uc124\uacc4\ubcc0\uacbd(Y/N)"];t.default=function(e){var t=Object(r.c)(),c=Object(r.d)((function(e){return e.achieve})),u=b()(),_=Object(o.useState)(!1),g=Object(i.a)(_,2),v=g[0],y=g[1],f=Object(o.useState)([]),x=Object(i.a)(f,2),w=x[0],k=x[1],C=Object(o.useState)(null),N=Object(i.a)(C,2),R=N[0],S=N[1],D=Object(o.useState)(""),T=Object(i.a)(D,2),I=T[0],P=T[1],E=Object(o.useState)(-1),Y=Object(i.a)(E,2),A=Y[0],M=Y[1];Object(o.useEffect)((function(){t(Object(d.Oh)())}),[]),Object(o.useEffect)((function(){A&&-1!=A&&F()}),[A]),Object(o.useEffect)((function(){F()}),[c.work_review_list]);var F=function(){y(!0);var e=[];if(c.work_review_list&&c.work_review_list.length>0){var t=c.work_review_list;if(-1!=A&&(t=t.filter((function(e){return"document"==I?e.docu_no==A:"category"==I||"pcategory"==I?e.cate_no==A:"discipline"==I?e.discipline_id==A:"project"==I?e.project_no==A:void 0}))),t.length>0){var i,r=1,o=Object(n.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.push({No:r++,Project:s.project_name,"Project Type":s.projtypename,Discipline:s.name,"Document Number":s.docu_code,DESCRIPTION:s.description,"Page / Sheet No":s.page_sheet_no,Rev:s.stage?"".concat(s.stage.revision):"1","\uac80\ud1a0\uacb0\uacfc(*Note)":"Code ".concat(s.code),Review_Comment:"".concat(s.contents),"\uc791\uc131\uc790":"".concat(s.username),Reply:"".concat(s.reply),"\uc124\uacc4\ubcc0\uacbd(Y/N)":"".concat(s.is_change_design)})}}catch(a){o.e(a)}finally{o.f()}k([].concat(e))}else k([])}else c.work_review_list&&0==c.work_review_list.length&&k([]);setTimeout((function(){y(!1)}),300)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("style",{children:"\n                     .k-grid table {\n                         width : 80% !important;\n                         margin : 0 -2px;\n                     }\n                     .k-grid td {\n                         white-space : pre-wrap;\n                     }\n                 "}),Object(p.jsx)(a.g,{open:v,style:{zIndex:100}}),Object(p.jsxs)(l.g,{children:[Object(p.jsxs)(l.h,{children:[Object(p.jsx)(l.b,{children:Object(p.jsx)(l.j,{children:R&&Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:"assets/images/edms/worklist_dep3.svg",alt:""}),Object(p.jsx)("p",{children:R.name})]})})}),Object(p.jsx)(l.d,{children:Object(p.jsx)(l.e,{children:Object(p.jsx)(s.hb,{onChangeTreeData:function(e){},onTreeItemClick:function(e){P(e.item.type),S(e.item),"project"==e.item.type?M(e.item.project_no):"discipline"==e.item.type?M(e.item.discipline_id):"category"===e.item.type||"pcategory"===e.item.type?M(e.item.cate_no):"document"===e.item.type?M(e.item.docu_no):S(null)}})})})]}),Object(p.jsxs)(l.k,{children:[Object(p.jsx)(l.i,{}),Object(p.jsx)(l.p,{children:Object(p.jsx)(a.c,{fullData:w,titles:m,keys:m,values:Object.values(w),keysWidth:O,datatype:h,headerClass:"background-dark-sky-blue color-white align-center",rowClass:"background-color-white color-light-black",keysWidthTotal:8,pageable:!0,excelFilename:"".concat(u.format("YYYY-MM-DD"),"_\ub9ac\ubdf0\ud604\ud669"),getCustomEl:function(e,t){if(9==e){if(void 0===t)return!0;var c="";return w[t]&&w[t].Review_Comment&&(c=w[t].Review_Comment),Object(p.jsx)(j.o,{children:""!=c&&"-"!=c?Object(p.jsx)("div",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:c}}):Object(p.jsx)("div",{style:{textAlign:"center"},children:" - "})})}if(11==e){if(void 0===t)return!0;var n="";return w[t]&&w[t].Reply&&(n=w[t].Reply),Object(p.jsx)(j.o,{children:""!=n&&"-"!=n?Object(p.jsx)("div",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:n}}):Object(p.jsx)("div",{style:{textAlign:"center"},children:" - "})})}}})})]})]})]})}}}]);