(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[44],{1518:function(n,t,e){"use strict";e.d(t,"b",(function(){return f})),e.d(t,"a",(function(){return b})),e.d(t,"f",(function(){return l})),e.d(t,"d",(function(){return j})),e.d(t,"e",(function(){return g})),e.d(t,"g",(function(){return O})),e.d(t,"c",(function(){return h}));var i,c,a,r,s,o=e(3),u=e(2),d=e(142),f=d.b,b=d.a,l=u.a.div(i||(i=Object(o.a)(["\n    font-size : 16px;\n    height : 48px;\n    width : 100%;\n    position : relative;\n    border-bottom : 1px solid #bfd2e2;\n"]))),j=u.a.div(c||(c=Object(o.a)(["\n    flex : 1;\n    width : 97%;\n    display: flex;\n    flex-direction: column;\n    overflow-y : hidden;\n    margin: 15px auto;\n    margin-bottom: 0;\n    border : 1px solid #E5E5E5;\n"]))),g=u.a.div(a||(a=Object(o.a)(["\n    height : 8vw;\n    width : 97%;\n    margin-bottom : 10px;\n    display : flex;\n    justify-content : center;\n    align-items : center;\n    flex-direction : row;\n    gap : .5em;\n    padding : 10px 0 4px 0 ;\n"]))),O=u.a.div(r||(r=Object(o.a)(["\n    flex : 7;\n    background-color : #EFEFF0;\n    border : 1px solid #CCCCCC;\n    margin : 1% auto;\n    display : flex;\n    justify-content : flex-start;\n    align-items : center;\n    flex-direction : column;\n    padding-left : 10px;\n    height : 98%;\n    overflow : auto;\n    font-size : 14px;\n    img {\n        height : 2vh;\n        float : left;\n        margin-right : 5px;\n    }\n    a{\n        text-decoration : underline;\n    }\n    div{\n        width : 100%;\n        height : 3vh;\n        padding : .5vh 0;\n    }\n"]))),h=u.a.button(s||(s=Object(o.a)(["\n    flex : 1;\n    padding: 8px 15px;\n    margin-left : 10px;\n    color: white;\n    background-color : ",";\n    border-radius : 10px;\n    height : 100%;\n    font-size : 1.4em;\n"])),(function(n){return n.$disabled?"#EFEFF0":"#6084CB"}))},2027:function(n,t,e){"use strict";e.r(t);var i=e(6),c=e.n(i),a=e(11),r=e(13),s=e(5),o=e(0),u=e(77),d=e(12),f=e(9),b=e(638),l=e(14),j=e(30),g=e(1518),O=e(278),h=e(1);t.default=function(n){var t=Object(d.c)(),e=Object(d.d)((function(n){return n.digitalsign})),i=Object(d.d)((function(n){return n.user})),p=Object(j.b)().back,x=Object(o.useState)(""),m=Object(s.a)(x,2),v=m[0],_=m[1],w=Object(o.useState)(!1),C=Object(s.a)(w,2),k=C[0],S=C[1],E=Object(o.useState)([]),y=Object(s.a)(E,2),F=y[0],T=y[1],R=Object(o.useState)([]),$=Object(s.a)(R,2),z=$[0],L=$[1],M=Object(u.i)().id,q=Object(o.useState)([]),D=Object(s.a)(q,2),H=D[0],I=D[1],J=Object(o.useState)(!1),P=Object(s.a)(J,2),A=P[0],B=P[1],Y=Object(o.useState)(!1),G=Object(s.a)(Y,2),K=G[0],N=G[1],Q=Object(o.useState)(""),U=Object(s.a)(Q,2),V=U[0],W=U[1],X=Object(o.useState)(""),Z=Object(s.a)(X,2),nn=(Z[0],Z[1]),tn=Object(o.useState)(""),en=Object(s.a)(tn,2),cn=(en[0],en[1]);Object(o.useEffect)((function(){M&&"number"==typeof parseInt(M)?t(Object(f.qh)(M)):p(),t(Object(f.Y)(!1))}),[]),Object(o.useEffect)((function(){if(k&&K){if(A){var n=document.head.innerHTML,t=window.open("","_blank");null===t||void 0===t||t.document.write(n),null===t||void 0===t||t.document.write(V),null===t||void 0===t||t.document.close(),setTimeout((function(){null===t||void 0===t||t.print()}),500),B(!1)}S(!1),N(!1)}}),[V]),Object(o.useEffect)((function(){e.sign_data&&(_(e.sign_data.html),S(!0),setTimeout((function(){N(!0),setTimeout((function(){N(!1),setTimeout((function(){S(!1)}),1e3)}),500)}),4e3))}),[e.sign_data]),Object(o.useEffect)((function(){e.sign_files&&I(Object(r.a)(e.sign_files))}),[e.sign_files]),Object(o.useEffect)((function(){e.send_sign_fin&&(t(Object(f.nc)()),setTimeout((function(){S(!1),Object(l.j)("\ubc1c\uc1a1 \uc644\ub8cc."),p()}),2e3))}),[e.send_sign_fin]);var an=function(){var n=Object(a.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.sign_data||4!=e.sign_data.sign_state){n.next=2;break}return n.abrupt("return");case 2:S(!0),t(Object(f.tj)(e.sign_data.id));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),rn=function(){var n=Object(a.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p();case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),sn=void 0==e.sign_data||4==e.sign_data.sign_state||3==e.sign_data.sign_state||e.sign_data.user_id!=i.id,on=e.sign_data&&4==e.sign_data.sign_state;return Object(h.jsxs)(g.b,{children:[Object(h.jsx)(l.g,{open:k}),Object(h.jsxs)(g.a,{$isMain:!0,children:[Object(h.jsx)(g.f,{children:Object(h.jsx)(b.m,{onClickSign:an,onClickCancel:rn,onChangeSignLine:function(n){return T(n)},onChangeSignRefer:function(n){return L(n)},onClickPrint:function(){S(!0),N(!0),B(!0)},activePDF:!0,html:V,docRegist:!0})}),Object(h.jsx)(g.d,{children:Object(h.jsx)(b.l,{onChangeContent:function(n){return _(n)},formId:e.new_form_id,html:v,disableEdit:!0,isComplete:!0,signData:F,isHtmlFlag:K,AddSign:function(n,t,e){W(t+n+e),nn(t),cn(e)}})}),Object(h.jsxs)(g.e,{children:[Object(h.jsxs)(g.g,{children:[Object(h.jsxs)("div",{children:["\ucca8\ubd80\ud30c\uc77c ",H.length,"\uac1c"]}),(null===H||void 0===H?void 0:H.length)>0&&H.map((function(n,t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:O.a}),Object(h.jsx)("a",{target:"_blank",href:n.url,download:n.filename,children:n.filename})]},t)}))]}),Object(h.jsx)(g.c,{$disabled:sn,onClick:function(){return sn?null:an()},children:on?"\ubc18\ub824":"\ubc1c\uc1a1\ud558\uae30"})]})]}),Object(h.jsx)(g.a,{$isMain:!1,children:Object(h.jsx)(b.o,{signLines:F,signRefers:z,isRequested:!0})})]})}}}]);