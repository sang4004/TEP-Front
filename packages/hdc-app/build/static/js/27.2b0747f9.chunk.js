(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[27],{1387:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(27),l=a(165),r=a(1287),i=a(18),c=a(4),o=a(0),s=a.n(o),m=a(74),d=a(1347),u=a(81),p=a(12);var f=function(e){var t=Object(m.a)(),a=Object(p.d)(Object(u.b)(t.palette.primary.main));return s.a.createElement("div",{className:e.classes.header},e.header&&s.a.createElement(d.a,{theme:a},e.header))},b=a(5),g=a(176),v=a(1378),h=a(1380);var E=function(e){var t=Object(m.a)(),a=Object(p.d)(Object(u.b)(t.palette.primary.main)),n=e.classes;return s.a.createElement(s.a.Fragment,null,e.header&&s.a.createElement(d.a,{theme:a},s.a.createElement("div",{className:Object(i.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&s.a.createElement(l.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var j=s.a.forwardRef((function(e,t){var a=Object(o.useState)(!1),n=Object(b.a)(a,2),l=n[0],r=n[1],c=e.classes;Object(o.useImperativeHandle)(t,(function(){return{toggleSidebar:m}}));var m=function(){r(!l)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{lgUp:"permanent"===e.variant},s.a.createElement(h.a,{variant:"temporary",anchor:e.position,open:l,onOpen:function(e){},onClose:function(e){return m()},disableSwipeToOpen:!0,classes:{root:Object(i.default)(c.sidebarWrapper,e.variant),paper:Object(i.default)(c.sidebar,e.variant,"left"===e.position?c.leftSidebar:c.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:c.backdrop}},style:{position:"absolute"}},s.a.createElement(E,Object.assign({},e)))),"permanent"===e.variant&&s.a.createElement(v.a,{mdDown:!0},s.a.createElement(g.a,{variant:"permanent",className:Object(i.default)(c.sidebarWrapper,e.variant),open:l,classes:{paper:Object(i.default)(c.sidebar,e.variant,"left"===e.position?c.leftSidebar:c.rightSidebar)}},s.a.createElement(E,Object.assign({},e)))))})),O=200,x=Object(r.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:O,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:O,minHeight:O,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),y=s.a.forwardRef((function(e,t){var a=Object(o.useRef)(null),n=Object(o.useRef)(null),r=Object(o.useRef)(null),c=x(e),m=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return s.a.useImperativeHandle(t,(function(){return{rootRef:r,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),s.a.createElement("div",{className:Object(i.default)(c.root,e.innerScroll&&c.innerScroll),ref:r},s.a.createElement("div",{className:c.topBg}),s.a.createElement("div",{className:"flex container w-full"},d&&s.a.createElement(j,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:c,ref:a,rootRef:r}),s.a.createElement("div",{className:Object(i.default)(c.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",m&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},s.a.createElement(f,{header:e.header,classes:c}),s.a.createElement("div",{className:Object(i.default)(c.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&s.a.createElement("div",{className:c.toolbar},e.contentToolbar),e.content&&s.a.createElement(l.a,{className:c.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),m&&s.a.createElement(j,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:c,ref:n,rootRef:r})))}));y.propTypes={rightSidebarHeader:c.node,rightSidebarContent:c.node,rightSidebarVariant:c.node,leftSidebarHeader:c.node,leftSidebarContent:c.node,leftSidebarVariant:c.node,header:c.node,content:c.node,contentToolbar:c.node,innerScroll:c.bool},y.defaultProps={};var S=s.a.memo(y)},1445:function(e,t,a){"use strict";var n=a(10),l=a(21),r=a(0),i=(a(4),a(18)),c=a(25),o=r.forwardRef((function(e,t){var a=e.classes,c=e.className,o=e.dividers,s=void 0!==o&&o,m=Object(l.a)(e,["classes","className","dividers"]);return r.createElement("div",Object(n.a)({className:Object(i.default)(a.root,c,s&&a.dividers),ref:t},m))}));t.a=Object(c.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(o)},1467:function(e,t,a){"use strict";var n=a(10),l=a(21),r=a(0),i=(a(4),a(18)),c=a(25),o=r.forwardRef((function(e,t){var a=e.disableSpacing,c=void 0!==a&&a,o=e.classes,s=e.className,m=Object(l.a)(e,["disableSpacing","classes","className"]);return r.createElement("div",Object(n.a)({className:Object(i.default)(o.root,s,!c&&o.spacing),ref:t},m))}));t.a=Object(c.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(o)},2050:function(e,t,a){"use strict";a.r(t);var n=a(1387),l=a(642),r=a(0),i=a.n(r),c=a(12),o=a(77),s=a(140),m=a(43),d=a(1385),u=a(1357),p=a(871),f=a(873),b=a(272),g=a(273),v=a(1287),h=a(18),E=Object(v.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var j,O,x,y=function(e){var t=E();return i.a.createElement("div",{className:Object(h.default)(t.root,e.className)},i.a.createElement("div",{className:t.color,style:{backgroundColor:e.color}}),i.a.createElement("div",null,e.title))},S=a(22),N=a(68),k=a(80),w=a.n(k),C=Object(N.b)("mailApp/labels/getLabels",(function(){return Object(S.b)(void 0,void 0,void 0,(function(){return Object(S.d)(this,(function(e){switch(e.label){case 0:return[4,w.a.get("/api/mail-app/labels")];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}}))}))})),I=Object(N.c)({}),A=(j=I.getSelectors((function(e){return e.mailApp.labels}))).selectAll,M=j.selectEntities,R=(j.selectById,Object(N.d)({name:"mailApp/labels",initialState:I.getInitialState(null),reducers:{},extraReducers:(O={},O[C.fulfilled]=I.setAll,O)}).reducer),T=a(82),P=Object(N.b)("mailApp/mail/getMail",(function(e){return Object(S.b)(void 0,void 0,void 0,(function(){return Object(S.d)(this,(function(t){switch(t.label){case 0:return[4,w.a.get("/api/mail-app/mail",{params:e})];case 1:return[4,t.sent().data];case 2:return[2,t.sent()]}}))}))})),L=Object(N.b)("mailApp/mail/updateMail",(function(e,t){var a=t.getState,n=t.dispatch;return Object(S.b)(void 0,void 0,void 0,(function(){var t,l;return Object(S.d)(this,(function(r){switch(r.label){case 0:return t=a().mailApp.mail.id,[4,w.a.post("/api/mail-app/update-mail",Object(S.a)({id:t},e))];case 1:return[4,r.sent().data];case 2:return l=r.sent(),n(Object(T.c)({message:"Mail Saved"})),[2,l]}}))}))})),D=Object(N.d)({name:"mailApp/mail",initialState:null,reducers:{},extraReducers:(x={},x[P.fulfilled]=function(e,t){return t.payload},x[L.fulfilled]=function(e,t){return Object(S.a)(Object(S.a)({},e),t.payload)},x)}).reducer;var B=Object(o.j)((function(e){var t=Object(c.c)(),a=Object(c.d)((function(e){return e.mailApp.mail})),n=Object(c.d)(M),l=Object(o.i)(),v=Object(r.useState)(!1),h=v[0],E=v[1];return Object(g.b)((function(){t(P(l))}),[t,l]),a?i.a.createElement("div",{className:"p-16 sm:p-24"},i.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(s.a,{delay:100},i.a.createElement(b.a,{variant:"subtitle1",className:"flex"},a.subject)),!m.a.isEmpty(n)&&a.labels.length>0&&i.a.createElement("div",{className:"flex flex-wrap mt-8 -mx-2"},a.labels.map((function(e){return i.a.createElement(y,{className:"mt-4 mx-2",title:n[e].title,color:n[e].color,key:e})}))))),i.a.createElement(u.a,{className:"my-16"}),i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:200},i.a.createElement("div",null,i.a.createElement("div",{className:"flex items-start justify-between"},i.a.createElement("div",{className:"flex items-center justify-start"},a.from.avatar?i.a.createElement(d.a,{alt:a.from.name,src:a.from.avatar}):i.a.createElement(d.a,null,a.from.name[0]),i.a.createElement("div",{className:"flex flex-col mx-8"},i.a.createElement("span",null,a.from.name),i.a.createElement(b.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},i.a.createElement("div",null,"to"),i.a.createElement("div",{className:"mx-4"},a.to[0].name)))),i.a.createElement(f.a,null,i.a.createElement(p.a,null,"more_vert"))),i.a.createElement("div",{className:"my-16"},i.a.createElement(b.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){E(!h)}},h?i.a.createElement("span",null,"Hide Details"):i.a.createElement("span",null,"Show Details")),h&&i.a.createElement("div",{className:"flex"},i.a.createElement(b.a,{variant:"body2",className:"flex flex-col"},i.a.createElement("span",null,"From:"),i.a.createElement("span",null,"To:"),i.a.createElement("span",null,"Date:")),i.a.createElement(b.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col"},i.a.createElement("span",null,a.from.email),i.a.createElement("span",null,a.to[0].email),i.a.createElement("span",null,a.time)))),i.a.createElement(b.a,{variant:"body2",dangerouslySetInnerHTML:{__html:a.message}}),i.a.createElement(u.a,{className:"my-16"}),a.attachments&&i.a.createElement("div",null,i.a.createElement(b.a,{variant:"subtitle1",className:"mb-16"},i.a.createElement("span",{className:"mx-4"},"Attachments"),i.a.createElement("span",null,"(",a.attachments.length,")")),i.a.createElement("div",{className:"flex flex-wrap -mx-8"},a.attachments.map((function(e){return i.a.createElement("div",{className:"w-192 px-8 pb-16",key:e.fileName},i.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(b.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),i.a.createElement(b.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),i.a.createElement(b.a,null,"(",e.size,")")))}))))))):null})),H=a(74),z=a(543);var W=Object(o.j)((function(e){var t=Object(c.c)(),a=Object(c.d)((function(e){return e.mailApp.mail})),n=Object(H.a)(),l=z.compile(e.match.path),r=Object(o.i)(),m=Object(S.a)({},r);delete m.mailId;var d=l(m);return a?i.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},i.a.createElement(f.a,{onClick:function(){return e.history.push(d)}},i.a.createElement(p.a,null,"ltr"===n.direction?"arrow_back":"arrow_forward")),i.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},i.a.createElement(s.a,{animation:"transition.expandIn",delay:100},i.a.createElement(f.a,{onClick:function(){return t(L({starred:!a.starred}))}},a.starred?i.a.createElement(p.a,null,"star"):i.a.createElement(p.a,null,"star_border"))),i.a.createElement(s.a,{animation:"transition.expandIn",delay:100},i.a.createElement(f.a,{onClick:function(){return t(L({important:!a.important}))}},a.important?i.a.createElement(p.a,null,"label"):i.a.createElement(p.a,null,"label_off"))))):null})),_=a(1378),F=a(1292),U=a(342),V=a(1347),J=a(254),Y=a.n(J),q=a(143),G=a.n(q),K=a(1327);function Q(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var X={};function Z(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&X[t[0]]||("string"===typeof t[0]&&(X[t[0]]=new Date),Q.apply(void 0,t))}function $(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function ee(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Z("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],l=!!t.options&&t.options.fallbackLng,r=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,a){var n=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===n||2===n};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!i(n,e)||l&&!i(r,e))))}function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){G()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,n=Object(r.useContext)(K.a)||{},l=n.i18n,i=n.defaultNS,c=a||l||Object(K.d)();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new K.b),!c){Z("You will need to pass in an i18next instance by using initReactI18next");var o=function(e){return Array.isArray(e)?e[e.length-1]:e},s=[o,{},!1];return s.t=o,s.i18n={},s.ready=!1,s}c.options.react&&void 0!==c.options.react.wait&&Z("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var m=ae(ae(ae({},Object(K.c)()),c.options.react),t),d=m.useSuspense,u=e||i||c.options&&c.options.defaultNS;u="string"===typeof u?[u]:u||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(u);var p=(c.isInitialized||c.initializedStoreOnce)&&u.every((function(e){return ee(e,c,m)}));function f(){return c.getFixedT(null,"fallback"===m.nsMode?u:u[0])}var b=Object(r.useState)(f),g=Y()(b,2),v=g[0],h=g[1],E=Object(r.useRef)(!0);Object(r.useEffect)((function(){var e=m.bindI18n,t=m.bindI18nStore;function a(){E.current&&h(f)}return E.current=!0,p||d||$(c,u,(function(){E.current&&h(f)})),e&&c&&c.on(e,a),t&&c&&c.store.on(t,a),function(){E.current=!1,e&&c&&e.split(" ").forEach((function(e){return c.off(e,a)})),t&&c&&t.split(" ").forEach((function(e){return c.store.off(e,a)}))}}),[c,u.join()]);var j=Object(r.useRef)(!0);Object(r.useEffect)((function(){E.current&&!j.current&&h(f),j.current=!1}),[c]);var O=[v,c,p];if(O.t=v,O.i18n=c,O.ready=p,p)return O;if(!p&&!d)return O;throw new Promise((function(e){$(c,u,(function(){e()}))}))}var le,re,ie,ce=a(81),oe=Object(N.b)("mailApp/mails/getMails",(function(e,t){var a=t.getState;return Object(S.b)(void 0,void 0,void 0,(function(){return Object(S.d)(this,(function(t){switch(t.label){case 0:return e=e||a().mailApp.mails.routeParams,[4,w.a.get("/api/mail-app/mails",{params:e})];case 1:return[4,t.sent().data];case 2:return[2,{data:t.sent(),routeParams:e}]}}))}))})),se=Object(N.b)("mailApp/mails/setFolderOnSelectedMails",(function(e,t){var a=t.dispatch,n=t.getState;return Object(S.b)(void 0,void 0,void 0,(function(){var t,l;return Object(S.d)(this,(function(r){switch(r.label){case 0:return t=n().mailApp.mails.selectedMailIds,[4,w.a.post("/api/mail-app/set-folder",{selectedMailIds:t,folderId:e})];case 1:return[4,r.sent().data];case 2:return l=r.sent(),a(oe()),[2,l]}}))}))})),me=Object(N.b)("mailApp/mails/toggleLabelOnSelectedMails",(function(e,t){var a=t.dispatch,n=t.getState;return Object(S.b)(void 0,void 0,void 0,(function(){var t,l;return Object(S.d)(this,(function(r){switch(r.label){case 0:return t=n().mailApp.mails.selectedMailIds,[4,w.a.post("/api/mail-app/toggle-label",{selectedMailIds:t,labelId:e})];case 1:return[4,r.sent().data];case 2:return l=r.sent(),a(oe()),[2,l]}}))}))})),de=Object(N.c)({}),ue=(le=de.getSelectors((function(e){return e.mailApp.mails}))).selectAll,pe=(le.selectById,Object(N.d)({name:"mailApp/mails",initialState:de.getInitialState({searchText:"",routeParams:{},selectedMailIds:[]}),reducers:{setMailsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},selectAllMails:function(e,t){e.selectedMailIds=e.ids},deselectAllMails:function(e,t){e.selectedMailIds=[]},selectMailsByParameter:function(e,t){var a=t.payload,n=a[0],l=a[1];e.selectedMailIds=e.ids.filter((function(t){return e.entities[t][n]===l}))},toggleInSelectedMails:function(e,t){var a=t.payload;e.selectedMailIds=e.selectedMailIds.includes(a)?e.selectedMailIds.filter((function(e){return e!==a})):Object(S.g)(e.selectedMailIds,[a])}},extraReducers:(re={},re[oe.fulfilled]=function(e,t){var a=t.payload,n=a.data,l=a.routeParams;de.setAll(e,n),e.routeParams=l,e.selectedMailIds=[]},re)})),fe=(ie=pe.actions).setMailsSearchText,be=ie.selectAllMails,ge=ie.deselectAllMails,ve=ie.selectMailsByParameter,he=ie.toggleInSelectedMails,Ee=pe.reducer;var je=function(e){var t=Object(c.c)(),a=Object(c.d)((function(e){return e.mailApp.mails.searchText})),n=Object(c.d)(ce.d),l=ne("mailApp").t;return i.a.createElement(V.a,{theme:n},i.a.createElement("div",{className:"flex flex-1"},i.a.createElement(U.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8 shadow"},i.a.createElement(_.a,{lgUp:!0},i.a.createElement(f.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},i.a.createElement(p.a,null,"menu"))),i.a.createElement(p.a,{color:"action"},"search"),i.a.createElement(F.a,{placeholder:l("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(fe(e))}}))))},Oe=a(171),xe=a(1299),ye=a(1301),Se=a(1358),Ne=a(1363),ke=a(1359),we=a(178),Ce=a(1370),Ie=a(1467),Ae=a(1445),Me=a(872),Re=a(1364),Te=Object(v.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var Pe=function(e){var t=Te();return i.a.createElement("div",{className:Object(h.default)(t.root,e.className)},i.a.createElement("div",{className:"flex"},i.a.createElement(b.a,{variant:"caption",className:t.filename},e.fileName),i.a.createElement(b.a,{variant:"caption",className:t.size},"(",e.size,")")),i.a.createElement(f.a,null,i.a.createElement(p.a,{className:"text-16"},"close")))};var Le,De,Be,He,ze=function(){var e=Object(r.useState)(!1),t=e[0],a=e[1],n=Object(g.c)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),l=n.form,c=n.handleChange,o=ne("mailApp").t;return i.a.createElement("div",{className:"p-24"},i.a.createElement(we.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){a(!0)}},o("COMPOSE")),i.a.createElement(Ce.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:"rounded-8"}},i.a.createElement(ke.a,{position:"static"},i.a.createElement(Re.a,{className:"flex w-full"},i.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"New Message"))),i.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),a(!1)},className:"flex flex-col"},i.a.createElement(Ae.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},i.a.createElement(Me.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:l.from,onChange:c,variant:"outlined",fullWidth:!0,disabled:!0}),i.a.createElement(Me.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:l.to,onChange:c,variant:"outlined",fullWidth:!0,required:!0}),i.a.createElement(Me.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:l.cc,onChange:c,variant:"outlined",fullWidth:!0}),i.a.createElement(Me.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:l.bcc,onChange:c,variant:"outlined",fullWidth:!0}),i.a.createElement(Me.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:l.subject,onChange:c,variant:"outlined",fullWidth:!0}),i.a.createElement(Me.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:c,value:l.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),i.a.createElement("div",{className:"pt-8"},i.a.createElement(Pe,{fileName:"attachment-2.doc",size:"12 kb"}),i.a.createElement(Pe,{fileName:"attachment-1.jpg",size:"350 kb"}))),i.a.createElement(Ie.a,{className:"justify-between p-8"},i.a.createElement("div",{className:"px-16"},i.a.createElement(we.a,{variant:"contained",color:"primary",type:"submit"},"Send"),i.a.createElement(f.a,null,i.a.createElement(p.a,null,"attach_file"))),i.a.createElement(f.a,{onClick:function(){a(!1)}},i.a.createElement(p.a,null,"delete"))))))},We=Object(N.b)("mailApp/filters/getFilters",(function(){return Object(S.b)(void 0,void 0,void 0,(function(){return Object(S.d)(this,(function(e){switch(e.label){case 0:return[4,w.a.get("/api/mail-app/filters")];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}}))}))})),_e=Object(N.c)({}),Fe=(Le=_e.getSelectors((function(e){return e.mailApp.filters}))).selectAll,Ue=(Le.selectById,Object(N.d)({name:"mailApp/filters",initialState:_e.getInitialState({}),reducers:{},extraReducers:(De={},De[We.fulfilled]=_e.setAll,De)}).reducer),Ve=Object(N.b)("mailApp/folders/getFolders",(function(){return Object(S.b)(void 0,void 0,void 0,(function(){return Object(S.d)(this,(function(e){switch(e.label){case 0:return[4,w.a.get("/api/mail-app/folders")];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}}))}))})),Je=Object(N.c)({}),Ye=(Be=Je.getSelectors((function(e){return e.mailApp.folders}))).selectAll,qe=(Be.selectById,Object(N.d)({name:"mailApp/folders",initialState:Je.getInitialState({}),reducers:{},extraReducers:(He={},He[Ve.fulfilled]=Je.setAll,He)}).reducer),Ge=Object(v.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var Ke=function(e){var t=Object(c.d)(Ye),a=Object(c.d)(A),n=Object(c.d)(Fe),l=Ge(),r=ne("mailApp").t;return i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:400},i.a.createElement("div",{className:"flex-auto border-l-1"},i.a.createElement(ze,null),i.a.createElement("div",null,i.a.createElement(xe.a,null,i.a.createElement(Ne.a,{className:l.listSubheader,disableSticky:!0},r("FOLDERS")),t.length>0&&t.map((function(e){return i.a.createElement(ye.a,{button:!0,component:Oe.a,to:"/apps/mail/"+e.handle,key:e.id,activeClassName:"active",className:l.listItem},i.a.createElement(p.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(Se.a,{primary:e.translate?r(e.translate):e.title,disableTypography:!0}))}))),i.a.createElement(xe.a,null,i.a.createElement(Ne.a,{className:l.listSubheader,disableSticky:!0},r("FILTERS")),n.length>0&&n.map((function(e){return i.a.createElement(ye.a,{button:!0,component:Oe.a,to:"/apps/mail/filter/"+e.handle,activeClassName:"active",className:l.listItem,key:e.id},i.a.createElement(p.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(Se.a,{primary:e.translate?r(e.translate):e.title,disableTypography:!0}))}))),i.a.createElement(xe.a,null,i.a.createElement(Ne.a,{className:l.listSubheader,disableSticky:!0},r("LABELS")),a&&a.map((function(e){return i.a.createElement(ye.a,{button:!0,component:Oe.a,to:"/apps/mail/label/"+e.handle,key:e.id,className:l.listItem},i.a.createElement(p.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),i.a.createElement(Se.a,{primary:e.title,disableTypography:!0}))}))))))},Qe=a(343),Xe={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var Ze=function(e){var t=Object(r.useState)("creapond"),a=t[0],n=t[1],l=ne("mailApp").t;return i.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},i.a.createElement("div",{className:"flex items-center flex-1"},i.a.createElement(s.a,{animation:"transition.expandIn",delay:300},i.a.createElement(p.a,{className:"text-32"},"mail")),i.a.createElement(s.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement("span",{className:"text-24 mx-16"},l("APP_TITLE")))),i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:300},i.a.createElement(Me.a,{id:"account-selection",select:!0,label:a,value:a,onChange:function(e){n(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys(Xe).map((function(e,t){return i.a.createElement(Qe.a,{key:e,value:e},Xe[e])})))))},$e=a(641),et=a(208),tt=a(636),at=a(543),nt=Object(v.a)((function(e){return{mailItem:{borderBottom:"1px solid  "+e.palette.divider,"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}})),lt=Object(o.j)((function(e){var t=Object(c.c)(),a=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(c.d)(M),l=Object(o.i)(),r=nt(e),s=at.compile(e.match.path),u=a.length>0&&void 0!==a.find((function(t){return t===e.mail.id}));return i.a.createElement(ye.a,{dense:!0,button:!0,onClick:function(){return e.history.push(s(Object(S.a)(Object(S.a)({},l),{mailId:e.mail.id})))},className:Object(h.default)(r.mailItem,u&&"selected",!e.mail.read&&"unread","py-16 px-0 md:px-8")},i.a.createElement(tt.a,{tabIndex:-1,disableRipple:!0,checked:u,onChange:function(){return t(he(e.mail.id))},onClick:function(e){return e.stopPropagation()}}),i.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},i.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},i.a.createElement("div",{className:"flex items-center"},e.mail.from.avatar?i.a.createElement(d.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):i.a.createElement(d.a,{className:r.avatar},e.mail.from.name[0]),i.a.createElement(b.a,{variant:"subtitle1",className:"mx-8"},e.mail.from.name)),i.a.createElement(b.a,{variant:"subtitle1"},e.mail.time)),i.a.createElement("div",{className:"flex flex-col px-16 py-0"},i.a.createElement(b.a,{className:"truncate"},e.mail.subject),i.a.createElement(b.a,{color:"textSecondary",className:"truncate"},m.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),i.a.createElement("div",{className:"flex justify-end px-12"},!m.a.isEmpty(n)&&e.mail.labels.map((function(e){return i.a.createElement(y,{className:"mx-2 mt-4",title:n[e].title,color:n[e].color,key:e})})))))}));var rt=Object(o.j)((function(e){var t=Object(c.c)(),a=Object(c.d)(ue),n=Object(c.d)((function(e){return e.mailApp.mails.searchText})),l=Object(o.i)(),m=Object(r.useState)(null),d=m[0],u=m[1],p=ne("mailApp").t;return Object(g.b)((function(){t(oe(l))}),[t,l]),Object(r.useEffect)((function(){a&&u(0===n.length?a:et.a.filterArrayByString(a,n))}),[a,n]),d?0===d.length?i.a.createElement(s.a,{delay:100},i.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},i.a.createElement(b.a,{color:"textSecondary",variant:"h5"},p("NO_MESSAGES")))):i.a.createElement(xe.a,{className:"p-0"},i.a.createElement($e.a,{enter:{animation:"transition.slideUpBigIn"}},d.map((function(e){return i.a.createElement(lt,{mail:e,key:e.id})})))):null})),it=a(825);var ct=function(e){var t=Object(c.c)(),a=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(c.d)(ue),l=Object(c.d)(A),o=Object(c.d)(Ye),s=Object(r.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),m=s[0],d=s[1];function u(e,t){var a;d(Object(S.a)(Object(S.a)({},t),((a={})[t]=e.currentTarget,a)))}function b(e,t){var a;d(Object(S.a)(Object(S.a)({},t),((a={})[t]=null,a)))}return i.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},i.a.createElement(tt.a,{onChange:function(e){return e.target.checked?t(be()):t(ge())},checked:a.length===Object.keys(n).length&&a.length>0,indeterminate:a.length!==Object.keys(n).length&&a.length>0}),i.a.createElement(f.a,{className:"",size:"small","aria-label":"More","aria-owns":m.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return u(e,"select")}},i.a.createElement(p.a,null,"arrow_drop_down")),i.a.createElement(it.a,{id:"select-menu",anchorEl:m.select,open:Boolean(m.select),onClose:function(e){return b(0,"select")}},i.a.createElement(Qe.a,{onClick:function(e){t(be()),b(0,"select")}},"All"),i.a.createElement(Qe.a,{onClick:function(e){t(ge()),b(0,"select")}},"None"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["read",!0])),b(0,"select")}},"Read"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["read",!1])),b(0,"select")}},"Unread"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["starred",!0])),b(0,"select")}},"Starred"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["starred",!1])),b(0,"select")}},"Unstarred"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["important",!0])),b(0,"select")}},"Important"),i.a.createElement(Qe.a,{onClick:function(e){t(ve(["important",!1])),b(0,"select")}},"Unimportant")),a.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),i.a.createElement(f.a,{onClick:function(e){return t(se(4))},"aria-label":"Delete"},i.a.createElement(p.a,null,"delete")),i.a.createElement(f.a,{"aria-label":"More","aria-owns":m.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return u(e,"folders")}},i.a.createElement(p.a,null,"folder")),i.a.createElement(it.a,{id:"folders-menu",anchorEl:m.folders,open:Boolean(m.folders),onClose:function(e){return b(0,"folders")}},o.length>0&&o.map((function(e){return i.a.createElement(Qe.a,{onClick:function(a){t(se(e.id)),b(0,"folders")},key:e.id},e.title)}))),i.a.createElement(f.a,{"aria-label":"More","aria-owns":m.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return u(e,"labels")}},i.a.createElement(p.a,null,"label")),i.a.createElement(it.a,{id:"folders-menu",anchorEl:m.labels,open:Boolean(m.labels),onClose:function(e){return b(0,"labels")}},l.length>0&&l.map((function(e){return i.a.createElement(Qe.a,{onClick:function(a){t(me(e.id)),b(0,"labels")},key:e.id},e.title)})))))},ot=a(102),st=Object(ot.c)({mails:Ee,mail:D,folders:qe,labels:R,filters:Ue});t.default=Object(l.a)("mailApp",st)((function(e){var t=Object(c.c)(),a=Object(r.useRef)(null),l=Object(o.i)();return Object(r.useEffect)((function(){t(We()),t(Ve()),t(C())}),[t]),i.a.createElement(n.a,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:i.a.createElement(je,{pageLayout:a}),contentToolbar:l.mailId?i.a.createElement(W,null):i.a.createElement(ct,null),content:l.mailId?i.a.createElement(B,null):i.a.createElement(rt,null),leftSidebarHeader:i.a.createElement(Ze,null),leftSidebarContent:i.a.createElement(Ke,null),ref:a,innerScroll:!0})}))}}]);