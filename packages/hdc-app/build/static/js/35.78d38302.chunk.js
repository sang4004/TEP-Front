(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[35],{1520:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),c=function(e){return Object.entries(e).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];if(-1!=c&&""!=c&&void 0!=c)return"".concat(n,"=").concat(c)})).filter((function(e){return e})).join("&")}},2071:function(e,t,n){"use strict";n.r(t);var a,c,r,i,o,s,l,u,d,f,b=n(23),p=n(13),j=n(5),h=n(12),O=n(77),x=n(0),_=n(30),m=n(9),g=n(14),v=n(38),w=n(1520),k=n(45),y=n.n(k),S=n(3),T=n(2),C=n(221),I=n(343),M=n(872),P=n(25),Y=T.a.div(a||(a=Object(S.a)(["\n    display: flex;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    border-radius: 10px;\n    flex-direction: column;\n"]))),R=T.a.div(c||(c=Object(S.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n    box-sizing: border-box;\n    padding: 10px 0px 5px 0px;\n    border-bottom: 1px solid #ccc;\n"]))),D=(Object(T.a)(C.a)(r||(r=Object(S.a)(["\n    flex: ",";\n    height: 100%;\n    padding: 5px;\n    padding-left: 10px;\n    margin: 0 5px;\n    border: 1px solid #4490ff;\n"])),(function(e){return e.$flex?e.$flex:"0.6;"})),Object(T.a)(M.a)(i||(i=Object(S.a)([""]))),Object(P.a)({root:{textAlign:"center"}})(I.a)),E=Object(T.a)(C.a)(o||(o=Object(S.a)(["\n    flex: 0.3;\n    height: 100%;\n    padding: 5px;\n    padding-left: 10px;\n    margin: 0 5px;\n    border: 1px solid #4490ff;\n"]))),z=Object(T.a)(M.a)(s||(s=Object(S.a)(["\n    flex: 1;\n    min-width: 150px;\n    border: 1px solid #aaaaaa;\n    padding: 0 10px;\n    margin: 0 5px;\n    display: flex;\n    justify-content: center;\n"]))),U=T.a.button(l||(l=Object(S.a)(["\n    flex: 0.3;\n    height: 100%;\n    margin: 0 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #4490ff;\n    border-radius: 5px;\n    color: #ffffff;\n    font-size: 1.2em;\n"]))),q=T.a.div(u||(u=Object(S.a)(["\n    display: flex;\n    height: calc(100% - 50px);\n    overflow: auto;\n"]))),F=T.a.div(d||(d=Object(S.a)(["\n    width: 100%;\n    overflow: auto;\n"]))),J=T.a.div(f||(f=Object(S.a)(["\n    width: 100%;\n    height: 98%;\n"]))),N=["transmittal","equipment","mdl","customer_transmittal","contract_due_date","issue_date","file_name","title","rev","document_issue","for_contractual_review","for_contractual_approval","status_issued","documentum_folder_link","customer_return_xml","review_result","TR. No.","TR \uc81c\ubaa9"],W=[-1,-1,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0],$=[2.5,1.5,2.5,3,1.5,1.5,6,6,1,2,1,1,2,5,2,2,6,6],A=["\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc","\ud30c\uc77c \ubcf4\uae30","TR \ubcf4\uae30"],H=n(1);t.default=function(e){var t=Object(h.c)(),n=Object(O.g)(),a=n.replace,c=n.location,r=n.push,i=n.action,o=Object(_.b)(),s=o.pushHistory,l=o.path,u=Object(O.i)().pno,d=Object(h.d)((function(e){return e.achieve})),f=Object(x.useState)(!1),k=Object(j.a)(f,2),S=k[0],T=k[1],C=Object(x.useState)(!1),I=Object(j.a)(C,2),M=I[0],P=I[1],K=Object(x.useState)([]),L=Object(j.a)(K,2),B=L[0],G=L[1],Q=Object(x.useState)([]),V=Object(j.a)(Q,2),X=V[0],Z=V[1],ee=Object(x.useState)(1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ce=Object(x.useState)(""),re=Object(j.a)(ce,2),ie=re[0],oe=re[1],se=Object(x.useState)(" "),le=Object(j.a)(se,2),ue=le[0],de=le[1],fe=Object(x.useState)(0),be=Object(j.a)(fe,2),pe=be[0],je=be[1],he=Object(x.useState)(0),Oe=Object(j.a)(he,2),xe=Oe[0],_e=Oe[1],me=Object(x.useState)(1),ge=Object(j.a)(me,2),ve=ge[0],we=ge[1],ke=Object(g.a)({menu_id:"plantLog_list",items:A,onClickItem:function(e){return Me(e)}}),ye=ke.contextMenuElement,Se=ke.onContextMenu,Te=parseInt(u);Object(x.useEffect)((function(){if(P(!0),""==c.search)t(Object(m.dh)(Te));else{var e=c.search.replace(/^\?/,"").split("&"),n=De(e);T(!0),t(Object(m.dh)(Te,n.searchType,n.searchText))}setTimeout((function(){P(!1)}),3e3)}),[Te]),Object(x.useEffect)((function(){Ce()}),[d.plant_list]),Object(x.useEffect)((function(){if(B.length>0&&" "!=ue){var e=Object(p.a)(B);e.sort((function(e,t){var n=e[ue],a=t[ue];return n>a?-1:n<a?1:n==a?0:-1})),G(e)}}),[ue]),Object(x.useEffect)((function(){"POP"==i&&S&&(T(!1),oe(""),we(1),t(Object(m.dh)(Te)))}),[i]);var Ce=function(){P(!0);var e=[];if(d.plant_list.length>0){var t,n=d.plant_list,a=Object(b.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;e.push({transmittal:c.transmittal,equipment:c.equipment,mdl:c.mdl,customer_transmittal:c.customer_transmittal,contract_due_date:y()(c.contract_due_date).format("YYYY-MM-DD"),issue_date:y()(c.issue_date).format("YYYY-MM-DD"),file_name:c.file_name,title:c.title,rev:c.rev,document_issue:c.document_issue,for_contractual_review:c.for_contractual_review,for_contractual_approval:c.for_contractual_approval,status_issued:c.status_issued,documentum_folder_link:c.documentum_folder_link,customer_return_xml:c.customer_return_xml,review_result:c.review_result,wp_code:c.wp_code,subject:c.subject,file_no:c.file_no})}}catch(r){a.e(r)}finally{a.f()}pe>0&&we(Math.floor(pe/20)+1),Z(Object.keys(e[0])),G([].concat(e))}else G([]),_e(0),we(0);setTimeout((function(){P(!1)}),2e3)},Ie=function(){P(!0);var e=ie.replace(/^\s+/,""),n=Object(w.a)({searchType:ne,searchText:e,currentPage:1});we(1),Re(n),t(Object(m.dh)(Te,ne,e))},Me=function(e){var t=e.selectedId,n=e.selectItem,a=t.file_no,c=d.plant_list.find((function(e){return e.file_no==a}));0==n?c.root_path?Ye(c.root_path):Object(g.j)("\ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):1==n?Pe(c):2==n&&(c.wp_idx?s("/edms/tm/detail/".concat(c.wp_idx)):Object(g.j)("TR\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."))},Pe=function(e){if(!e.file_no)return Object(g.j)("\ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");Object(v.m)("http://".concat(window.location.host,"/edms/pdfviewer/").concat(e.file_no,"?page_type=1"))},Ye=function(e){e&&window.open(e,"_blank")},Re=function(e){var t=c.state;if(t){var n=t.dataState;S?a("".concat(l,"?").concat(e),{dataState:n}):(r("".concat(l,"?").concat(e),{dataState:n}),T(!0))}else S?a("".concat(l,"?").concat(e),null):(r("".concat(l,"?").concat(e),null),T(!0))},De=function(e){var t={};return e.map((function(e){var n=e.split("=")[0],a=e.split("=")[1];switch(n){case"searchText":oe(a);break;case"searchType":ae(parseInt(a));break;case"skip":je(parseInt(a));break;case"currentPage":we(parseInt(a))}t[n]=a})),t};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("style",{children:"\n                      .k-grid table {\n                          width : 100% !important;\n                          margin : 0 -2px;\n                      }\n                      .k-grid td {\n                          white-space : pre-wrap;\n                          padding : 6px 8px !important;\n                      }\n                      .k-grid tbody tr {\n                        height : 50px;\n                      }\n                      .k-toolbar {\n                          height : 50px;\n                          margin-right : 10px;\n                      } \n                  "}),ye,Object(H.jsx)(g.g,{open:M,style:{zIndex:100}}),Object(H.jsxs)(Y,{children:[Object(H.jsxs)(R,{children:[Object(H.jsxs)(E,{value:ue,onChange:function(e){return de(e.target.value)},disableUnderline:!0,children:[Object(H.jsx)(D,{value:" ",children:"\uc815\ub82c"}),";",N&&N.map((function(e){return Object(H.jsx)(D,{value:e,children:e})}))]}),Object(H.jsxs)(E,{value:ne,onChange:function(e){return ae(parseInt(e.target.value))},disableUnderline:!0,children:[Object(H.jsx)(D,{value:1,children:"\ud30c\uc77c\uba85"}),Object(H.jsx)(D,{value:2,children:"\uc81c\ubaa9"}),Object(H.jsx)(D,{value:3,children:"TR.No."})]}),Object(H.jsx)(z,{value:ie,onChange:function(e){return oe(e.target.value)},onKeyUp:function(e){"Enter"==e.key&&Ie()},InputProps:{disableUnderline:!0}}),Object(H.jsx)(U,{onClick:function(){return Ie()},children:"\uac80\uc0c9\ud558\uae30"})]}),Object(H.jsx)(q,{children:Object(H.jsx)(F,{children:Object(H.jsx)(J,{children:Object(H.jsx)(g.c,{titles:N,keys:X,values:Object.values(B),fullData:B,keysWidth:$,datatype:W,headerClass:"background-dark-sky-blue color-white align-center",keysWidthTotal:27,pageable:!0,nowPage:ve,nowPageSize:xe,pagecount:20,onPageChange:function(e,t,n){if(pe!=e&&(je(e),0!=e||0==e&&S)){var a=Object(w.a)({currentPage:Math.floor(e/20)+1,skip:e});Re(a)}},noRecordsMsg:"\ud45c\uc2dc\ud560 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",onContextMenu:Se,isSelect:!0,isSelectFake:!0,onDoubleClickRow:function(e){var t=e.file_no,n=d.plant_list.find((function(e){return e.file_no==t}));Pe(n)}})})})})]})]})}}}]);