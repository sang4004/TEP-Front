(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[40],{1413:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return x}));var i,c,a,r,s,u,o=n(3),d=n(2),b=n(178),f=n(142),j=f.b,l=f.a,O=d.a.div(i||(i=Object(o.a)(["\n    font-size : 16px;\n    height : 48px;\n    width : 100%;\n    position : relative;\n    border-bottom : 1px solid #bfd2e2;\n"]))),g=d.a.div(c||(c=Object(o.a)(["\n    flex : 1;\n    width : 97%;\n    overflow-y : auto;\n    margin: 15px auto;\n    margin-bottom: 0;\n    background-color : #ffffff;\n    border : 1px solid #E5E5E5;\n"]))),p=d.a.div(a||(a=Object(o.a)(["\n    height : 8vw;\n    width : 97%;\n    margin-bottom : 10px;\n    display : flex;\n    justify-content : center;\n    align-items : center;\n    flex-direction : row;\n    gap : .5em;\n    padding : 10px 0 4px 0 ;\n"]))),_=d.a.div(r||(r=Object(o.a)(["\n    flex : 7;\n    background-color : #EFEFF0;\n    border : 1px solid #CCCCCC;\n    margin : 1% auto;\n    display : flex;\n    justify-content : flex-start;\n    align-items : center;\n    flex-direction : column;\n    padding-left : 10px;\n    height : 98%;\n    overflow : auto;\n    font-size : 14px;\n    img {\n        height : 2vh;\n        float : left;\n        margin-right : 5px;\n    }\n    a{\n        text-decoration : underline;\n    }\n    div{\n        width : 100%;\n        height : 3vh;\n        padding : .5vh 0;\n    }\n"]))),x=(d.a.dd(s||(s=Object(o.a)(["\n    button {\n        padding: 5px 15px;\n        border: 1px solid #ccc;\n    }\n"]))),Object(d.a)(b.a)(u||(u=Object(o.a)(["\n    height : 100%;\n    flex : 1;\n    padding: 8px 15px;\n    margin-left : 10px;\n    border-radius : 10px;\n    color: ",";\n    background-color : "," ;\n    &:hover{\n        background-color : "," ;\n    }\n    span{\n        font-size : 1.4em;\n    }\n"])),(function(e){return e.$disabled,"white"}),(function(e){return e.$disabled?"#EFEFF0":e.$color}),(function(e){return e.$disabled?"#EFEFF0":e.$color})))},2032:function(e,t,n){"use strict";n.r(t);var i=n(6),c=n.n(i),a=n(11),r=n(13),s=n(23),u=n(5),o=n(0),d=n(77),b=n(12),f=n(9),j=n(638),l=n(14),O=n(30),g=n(1413),p=n(278),_=n(658),x=n(675),h=n(1);t.default=function(e){var t=Object(b.c)(),n=Object(b.d)((function(e){return e.digitalsign})),i=Object(b.d)((function(e){return e.user})),v=Object(O.b)(),m=v.pushHistory,S=v.back,k=Object(o.useState)(""),w=Object(u.a)(k,2),C=(w[0],w[1],Object(o.useState)(!1)),E=Object(u.a)(C,2),y=E[0],$=E[1],F=Object(o.useState)(!1),T=Object(u.a)(F,2),q=T[0],B=T[1],z=Object(o.useState)(!1),A=Object(u.a)(z,2),M=A[0],R=A[1],H=Object(o.useState)(!1),J=Object(u.a)(H,2),L=J[0],I=J[1],V=Object(o.useState)(!1),X=Object(u.a)(V,2),Y=(X[0],X[1],Object(o.useState)("")),D=Object(u.a)(Y,2),G=(D[0],D[1],Object(d.i)().id),K=Object(o.useState)([]),N=Object(u.a)(K,2),P=N[0],Q=N[1],U=Object(o.useState)([]),W=Object(u.a)(U,2),Z=W[0],ee=W[1],te=Object(o.useState)(!1),ne=Object(u.a)(te,2),ie=ne[0],ce=(ne[1],Object(o.useState)(!1)),ae=Object(u.a)(ce,2),re=ae[0],se=ae[1],ue=Object(o.useState)(!1),oe=Object(u.a)(ue,2),de=oe[0],be=oe[1],fe=Object(o.useState)(!1),je=Object(u.a)(fe,2),le=je[0],Oe=je[1],ge=Object(o.useState)(""),pe=Object(u.a)(ge,2),_e=pe[0],xe=(pe[1],Object(o.useState)("")),he=Object(u.a)(xe,2),ve=(he[0],he[1],Object(o.useState)("")),me=Object(u.a)(ve,2),Se=(me[0],me[1],Object(o.useState)("")),ke=Object(u.a)(Se,2),we=(ke[0],ke[1],Object(o.useState)(!1)),Ce=Object(u.a)(we,2),Ee=(Ce[0],Ce[1],Object(o.useState)(!1)),ye=Object(u.a)(Ee,2),$e=(ye[0],ye[1],Object(o.useState)(!1)),Fe=Object(u.a)($e,2),Te=(Fe[0],Fe[1],Object(o.useState)([])),qe=Object(u.a)(Te,2),Be=qe[0],ze=qe[1],Ae=Object(o.useState)(!1),Me=Object(u.a)(Ae,2);Me[0],Me[1];Object(o.useEffect)((function(){G&&"number"==typeof parseInt(G)?t(Object(f.Vg)(G)):S(),t(Object(f.Y)(!0))}),[]),Object(o.useEffect)((function(){if(n.sign_line){var e,t=null,c=Object(s.a)(n.sign_line);try{for(c.s();!(e=c.n()).done;){var a=e.value;if(a.user_id==i.id){if("3"!=a.state&&"4"!=a.state||se(!0),"8"==a.state||"9"==a.state)return be(!0);"2"==a.state&&(se(!1),null==t&&(t=!0))}else"2"!=a.state&&"7"!=a.state||null!=t||(t=!1)}}catch(r){c.e(r)}finally{c.f()}Oe(!!t)}}),[n.sign_line]),Object(o.useEffect)((function(){n.sign_refer&&ee(n.sign_refer)}),[n.sign_refer]),Object(o.useEffect)((function(){n.sign_files&&ze(Object(r.a)(n.sign_files))}),[n.sign_files]),Object(o.useEffect)((function(){n.approval_sign_fin&&(t(Object(f.nc)()),setTimeout((function(){$(!1),Object(l.j)("\uacb0\uc7ac \uc644\ub8cc."),S()}),2e3))}),[n.approval_sign_fin]),Object(o.useEffect)((function(){n.reject_sign_fin&&(t(Object(f.nc)()),setTimeout((function(){$(!1),Object(l.j)("\uacb0\uc7ac \ubc18\ub824."),S()}),2e3))}),[n.reject_sign_fin]),Object(o.useEffect)((function(){n.cancel_sign_fin&&(t(Object(f.nc)()),setTimeout((function(){$(!1),Object(l.j)("\uacb0\uc7ac \ucde8\uc18c."),S()}),2e3))}),[n.cancel_sign_fin]),Object(o.useEffect)((function(){n.re_request_sign_fin&&(t(Object(f.nc)()),setTimeout((function(){$(!1),Object(l.j)("\uc7ac\uc0c1\uc2e0 \uc644\ub8cc"),m("/fbtemporary")}),2e3))}),[n.re_request_sign_fin]);var Re=function(){var e=Object(a.a)(c.a.mark((function e(a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.id!=n.sign_data.user_id){e.next=2;break}return e.abrupt("return");case 2:if(B(!1),$(!0),setTimeout((function(){$(!1)}),5e3),!r){e.next=10;break}return e.next=8,t(Object(f.mi)(n.sign_data.id,a||""));case 8:e.next=12;break;case 10:return e.next=12,t(Object(f.h)(n.sign_data.id,a||""));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(a.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.id!=n.sign_data.user_id){e.next=2;break}return e.abrupt("return");case 2:return R(!1),e.next=5,t(Object(f.Mi)(n.sign_data.id,a));case 5:$(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(a.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.id==n.signed_user[0].id){e.next=2;break}return e.abrupt("return");case 2:return I(!1),e.next=5,t(Object(f.X)(n.sign_data.id,a,n.signed_user[0].state));case 5:$(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,t(Object(f.Hi)(n.sign_data.id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(e){3!=n.signed_user[0].state&&1!=n.signed_user[0].state||4!=e||I(!0),5==e&&Ie(),void 0==n.sign_data||i.id==n.sign_data.user_id||ie||(1==e?R(!0):2==e&&B(!0))},Xe=re||de||void 0==n.sign_data||i.id==n.sign_data.user_id||"4"==n.sign_data.sign_state||ie||!le,Ye=(re||de||void 0==n.sign_data||i.id==n.sign_data.user_id||"4"==n.sign_data.sign_state||n.sign_data.is_regist,void 0==n.sign_data||void 0==n.signed_user||"4"==n.sign_data.sign_state||i.id!=n.sign_data.user_id||i.id!=n.signed_user[0].id);return Object(h.jsxs)(g.b,{children:[Object(h.jsx)(j.e,{visible:M,onClose:function(){return R(!1)},onComplete:He}),Object(h.jsx)(j.c,{visible:q,onClose:function(){return B(!1)},onComplete:Re}),Object(h.jsx)(_.a,{visible:L,onClose:function(){return I(!1)},onComplete:Je}),Object(h.jsx)(l.g,{open:y}),Object(h.jsxs)(g.a,{$isMain:!0,children:[Object(h.jsx)(g.f,{children:Object(h.jsx)(j.m,{html:_e,onClickCancel:Le,onClickSignCancel:function(){return I(!0)},onChangeSignLine:function(e){return Q(e)},activeSignCancel:!0})}),Object(h.jsx)(g.d,{children:Object(h.jsx)(x.a,{isRegist:!(!n.sign_data||!n.sign_data.is_regist),isSignwait:!!n.sign_data})}),Object(h.jsxs)(g.e,{children:[Object(h.jsxs)(g.g,{children:[Object(h.jsxs)("div",{children:["\ucca8\ubd80\ud30c\uc77c ",Be.length,"\uac1c"]}),(null===Be||void 0===Be?void 0:Be.length)>0&&Be.map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:p.a}),Object(h.jsx)("a",{href:e.url,target:"_blank",download:e.filename,children:e.filename})]},t)}))]}),Object(h.jsx)(g.c,{$color:"#3E8A8B",$disabled:Ye,onClick:function(){return Ye?null:Ve(4)},children:"\uacb0\uc7ac\ucde8\uc18c"}),n.sign_data&&4==n.sign_data.sign_state&&n.sign_data.user_id==i.id&&0==n.sign_data.is_re_request?Object(h.jsx)(g.c,{$color:"#3E8A8B",onClick:function(){return Ve(5)},children:"\uc7ac\uc0c1\uc2e0"}):Object(h.jsx)(g.c,{$color:"#3E8A8B",$disabled:Xe,onClick:function(){return Xe?null:Ve(1)},children:"\ubc18\ub824"}),Object(h.jsx)(g.c,{$color:"#EB5539",$disabled:Xe,onClick:function(){return Xe?null:Ve(2)},children:"\uacb0\uc7ac"})]})]}),Object(h.jsx)(g.a,{$isMain:!1,children:Object(h.jsx)(j.o,{signLines:P,signRefers:Z,isRequested:!0,isOffline:!0})})]})}}}]);