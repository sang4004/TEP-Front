(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[42],{1413:function(n,e,t){"use strict";t.d(e,"b",(function(){return f})),t.d(e,"a",(function(){return j})),t.d(e,"f",(function(){return O})),t.d(e,"d",(function(){return g})),t.d(e,"e",(function(){return p})),t.d(e,"g",(function(){return h})),t.d(e,"c",(function(){return m}));var i,c,a,r,o,s,d=t(3),u=t(2),l=t(178),b=t(142),f=b.b,j=b.a,O=u.a.div(i||(i=Object(d.a)(["\n    font-size : 16px;\n    height : 48px;\n    width : 100%;\n    position : relative;\n    border-bottom : 1px solid #bfd2e2;\n"]))),g=u.a.div(c||(c=Object(d.a)(["\n    flex : 1;\n    width : 97%;\n    overflow-y : auto;\n    margin: 15px auto;\n    margin-bottom: 0;\n    background-color : #ffffff;\n    border : 1px solid #E5E5E5;\n"]))),p=u.a.div(a||(a=Object(d.a)(["\n    height : 8vw;\n    width : 97%;\n    margin-bottom : 10px;\n    display : flex;\n    justify-content : center;\n    align-items : center;\n    flex-direction : row;\n    gap : .5em;\n    padding : 10px 0 4px 0 ;\n"]))),h=u.a.div(r||(r=Object(d.a)(["\n    flex : 7;\n    background-color : #EFEFF0;\n    border : 1px solid #CCCCCC;\n    margin : 1% auto;\n    display : flex;\n    justify-content : flex-start;\n    align-items : center;\n    flex-direction : column;\n    padding-left : 10px;\n    height : 98%;\n    overflow : auto;\n    font-size : 14px;\n    img {\n        height : 2vh;\n        float : left;\n        margin-right : 5px;\n    }\n    a{\n        text-decoration : underline;\n    }\n    div{\n        width : 100%;\n        height : 3vh;\n        padding : .5vh 0;\n    }\n"]))),m=(u.a.dd(o||(o=Object(d.a)(["\n    button {\n        padding: 5px 15px;\n        border: 1px solid #ccc;\n    }\n"]))),Object(u.a)(l.a)(s||(s=Object(d.a)(["\n    height : 100%;\n    flex : 1;\n    padding: 8px 15px;\n    margin-left : 10px;\n    border-radius : 10px;\n    color: ",";\n    background-color : "," ;\n    &:hover{\n        background-color : "," ;\n    }\n    span{\n        font-size : 1.4em;\n    }\n"])),(function(n){return n.$disabled,"white"}),(function(n){return n.$disabled?"#EFEFF0":n.$color}),(function(n){return n.$disabled?"#EFEFF0":n.$color})))},2028:function(n,e,t){"use strict";t.r(e);var i=t(6),c=t.n(i),a=t(11),r=t(13),o=t(23),s=t(5),d=t(0),u=t(77),l=t(12),b=t(9),f=t(638),j=t(14),O=t(30),g=t(1413),p=t(278),h=t(1);e.default=function(n){var e=Object(l.c)(),t=Object(l.d)((function(n){return n.digitalsign})),i=Object(l.d)((function(n){return n.user})),m=Object(O.b)(),x=(m.pushHistory,m.back),v=Object(d.useState)(""),_=Object(s.a)(v,2),w=_[0],E=_[1],k=Object(d.useState)(!1),C=Object(s.a)(k,2),S=C[0],y=C[1],F=Object(u.i)().id,$=Object(d.useState)([]),T=Object(s.a)($,2),R=T[0],z=T[1],H=Object(d.useState)([]),I=Object(s.a)(H,2),M=I[0],q=I[1],J=Object(d.useState)([]),L=Object(s.a)(J,2),P=L[0],A=L[1],D=Object(d.useState)(!1),Y=Object(s.a)(D,2),B=Y[0],G=Y[1],K=Object(d.useState)(!1),N=Object(s.a)(K,2),Q=N[0],U=N[1],V=Object(d.useState)(""),W=Object(s.a)(V,2),X=W[0],Z=W[1],nn=Object(d.useState)(""),en=Object(s.a)(nn,2),tn=en[0],cn=en[1],an=Object(d.useState)(""),rn=Object(s.a)(an,2),on=rn[0],sn=rn[1],dn=Object(d.useState)(!1),un=Object(s.a)(dn,2);un[0],un[1];Object(d.useEffect)((function(){F&&"number"==typeof parseInt(F)?e(Object(b.qh)(F)):x(),e(Object(b.Y)(!1))}),[]),Object(d.useEffect)((function(){if(S&&Q){if(B){var n=document.head.innerHTML,e=window.open("","_blank");null===e||void 0===e||e.document.write(n),null===e||void 0===e||e.document.write(tn+X+on),null===e||void 0===e||e.document.close(),setTimeout((function(){null===e||void 0===e||e.print()}),500),G(!1)}y(!1),U(!1)}}),[X]),Object(d.useEffect)((function(){if(t.sign_data&&(E(t.sign_data.html),y(!0),setTimeout((function(){U(!0),setTimeout((function(){U(!1),setTimeout((function(){y(!1)}),1e3)}),500)}),3e3)),t.sign_line){var n,e=[],c=Object(o.a)(t.sign_line);try{for(c.s();!(n=c.n()).done;){var a=n.value,s={};s.id=a.user_id,s.username=a.username,s.groupname=a.groupname,s.email=a.email,s.user_id=a.user_id,a.state&&(s.state=parseInt(a.state)),e.push(s)}}catch(d){c.e(d)}finally{c.f()}z([].concat(e))}!t.sign_data||!t.sign_refer||t.sign_data.is_regist&&t.sign_data.group_id!=i.company||q(Object(r.a)(t.sign_refer))}),[t.sign_data]),Object(d.useEffect)((function(){t.sign_files&&A(Object(r.a)(t.sign_files))}),[t.sign_files]);var ln=function(){var n=Object(a.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:x();case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(h.jsxs)(g.b,{children:[Object(h.jsx)(j.g,{open:S}),Object(h.jsxs)(g.a,{$isMain:!0,children:[Object(h.jsx)(g.f,{children:Object(h.jsx)(f.m,{onClickCancel:ln,onClickPrint:function(){return y(!0),U(!0),void G(!0)},activePDF:!0,docRegist:!0,html:X})}),Object(h.jsx)(g.d,{children:Object(h.jsx)(f.l,{onChangeContent:function(n){return E(n)},formId:t.new_form_id,html:w,disableEdit:!0,isComplete:!0,isHtmlFlag:Q,AddSign:function(n,e,t){cn(e),sn(t),Z(e+n+t)}})}),Object(h.jsx)(g.e,{children:Object(h.jsxs)(g.g,{children:[Object(h.jsxs)("div",{children:["\ucca8\ubd80\ud30c\uc77c ",P.length,"\uac1c"]}),(null===P||void 0===P?void 0:P.length)>0&&P.map((function(n,e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:p.a}),Object(h.jsx)("a",{href:n.url,target:"_blank",download:n.filename,children:n.filename})]},e)}))]})})]}),Object(h.jsx)(g.a,{$isMain:!1,children:Object(h.jsx)(f.o,{signLines:R,signRefers:M,isRequested:!0,isReceived:!0})})]})}}}]);