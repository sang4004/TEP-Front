(this.webpackJsonphdc_app=this.webpackJsonphdc_app||[]).push([[79],{2078:function(e,n,t){"use strict";t.r(n);var c,i,r,o,a,d,s,l,j,b,f,u,x,h,p,O,_,g,m,y,w,v,k,E,S,C=t(6),F=t.n(C),T=t(11),$=t(13),M=t(23),Y=t(5),z=t(14),D=t(30),I=t(0),H=t(12),L=t(77),R=t(9),A=t(38),J=t(638),N=t(3),V=t(178),W=t(2),Z=W.a.div(c||(c=Object(N.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    width: 100%;\n    height: 90%;\n    padding-left: 1%;\n    padding-right: 1%;\n    box-sizing: border-box;\n    padding-top: 0;\n    overflow: auto;\n"]))),B=W.a.div(i||(i=Object(N.a)(["\n    margin: 10px 0;\n    height: 40px;\n    padding: 0 50px;\n    border-radius: 10px;\n    font-weight: 700;\n    color: #fff;\n    background-color: #f46f36;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),P=W.a.div(r||(r=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 80%;\n    padding-left: 10px;\n"]))),Q=W.a.div(o||(o=Object(N.a)(["\n    ","\n    overflow: auto;\n    border: 1px solid #ccc;\n    padding: 1px;\n"])),(function(e){return"bottom"==e.$margin?"\n                margin-bottom: 10px;\n                height : 50%;\n            ":"right"==e.$margin?"\n                margin-right : 5px; \n                height : 90%;\n            ":"\n                margin : 0px;\n                heigth : 90%\n                margin-left: 10px;\n                border-radius: 10px 10px 0 0;\n            "})),q=W.a.div(a||(a=Object(N.a)(["\n    width: 100%;\n    height: calc(100% - 30px);\n    overflow: auto;\n"]))),G=W.a.div(d||(d=Object(N.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 30px;\n    background: #e4efef;\n    border-radius: ",";\n    padding: 0px 10px;\n    box-sizing: border-box;\n    color: #666;\n    font-weight: 700;\n    font-size: 14px;\n"])),(function(e){return e.$radius?"10px 10px 0 0;":"0;"})),K=(Object(W.a)(V.a)(s||(s=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    img {\n        display: flex;\n    }\n"]))),W.a.div(l||(l=Object(N.a)(["\n    display: flex;\n    color: #477ee9;\n    margin-left: 4px;\n"]))),W.a.div(j||(j=Object(N.a)(["\n    display: flex;\n    justify-content: space-between;\n    box-sizing: border-box;\n    padding: 0 1%;\n"])))),U=(Object(W.a)(V.a)(b||(b=Object(N.a)(["\n    margin: 15px 0;\n    height: 35px;\n    padding: 0 50px;\n    border-radius: 10px;\n    font-weight: 700;\n    color: #fff;\n    background: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover {\n        background: ",";\n    }\n"])),(function(e){return e.$disabled?"#EFEFF0":"#477ee9"}),(function(e){return e.$disabled?"#EFEFF0":"#1a5bd9"})),Object(W.a)(V.a)(f||(f=Object(N.a)(["\n    margin: 15px 0;\n    height: 35px;\n    padding: 0 50px;\n    border-radius: 10px;\n    font-weight: 700;\n    color: #fff;\n    background: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover {\n        background: ",";\n    }\n"])),(function(e){return e.$disabled?"#EFEFF0":"#54B0A9"}),(function(e){return e.$disabled?"#EFEFF0":"#428e88"})),W.a.div(u||(u=Object(N.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 260px;\n"]))),W.a.div(x||(x=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    width: 100%;\n    height: 50%;\n    border: 1px solid #aaa;\n    margin-bottom: ",";\n    margin-bottom: 2%;\n"])),(function(e){return"bottom"==e.$boxType?"10px":"0px"}))),X=W.a.div(h||(h=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 50px;\n    width: 100%;\n    border-bottom: 1px solid\n        ",";\n    padding: 10px;\n    background-color: ",";\n"])),(function(e){return"TM"==e.$boxType?"#4CAF50":"#f46f36"}),(function(e){return"TM"==e.$boxType?"#4CAF50":"#f46f36"})),ee=W.a.h1(p||(p=Object(N.a)(["\n    flex: 1;\n    font-size: 1.2em;\n    color: #fff;\n"]))),ne=(W.a.div(O||(O=Object(N.a)(["\n    color: #fff;\n    font-size: 15px;\n    font-weight: 500;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    img {\n        width: 12px;\n        height: 12px;\n        margin-left: 5px;\n    }\n"]))),W.a.div(_||(_=Object(N.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: flex-start;\n    height: fit-content;\n    width: 100%;\n    padding: 10px 10px 0 10px;\n    background-color: #fff;\n"])))),te=W.a.div(g||(g=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: fit-content;\n    padding: 0.4em 0;\n    gap: 1em;\n    width: 50%;\n"]))),ce=W.a.div(m||(m=Object(N.a)(["\n    text-align: justify;\n    text-align-last: justify;\n    height: fit-content;\n    width: 40%;\n    font-size: 1em;\n    font-weight: 800;\n    color: #777;\n"]))),ie=W.a.div(y||(y=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    height: fit-content;\n    flex: 1;\n    font-size: 1em;\n"]))),re=W.a.div(w||(w=Object(N.a)(["\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    width: 100%;\n    flex: 1;\n    padding: 0.4em 10px;\n    overflow-y: auto;\n    gap: 1em;\n    background-color: #fff;\n"]))),oe=W.a.button(v||(v=Object(N.a)(["\n    margin: 10px 0;\n    height: 40px;\n    padding: 0 50px;\n    border-radius: 10px;\n    font-weight: 700;\n    color: #fff;\n    background-color: #f89b00;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),ae=W.a.div(k||(k=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 20%;\n"]))),de=W.a.div(E||(E=Object(N.a)(["\n    height: 10%;\n    display: flex;\n    width: 100%;\n    gap: 1em;\n    background-color: #fff;\n    justify-content: right;\n    margin-bottom: 1%;\n"]))),se=W.a.button(S||(S=Object(N.a)(["\n    padding: 0.5em;\n    font-size: 1em;\n    height: 100%;\n    color: #fff;\n    font-weight: 700;\n    background-color: #4caf50;\n    text-align: center;\n    margin-right: 1%;\n"]))),le=t(78),je=t(1),be=Object(A.i)(),fe=[.7,1.4,.3,.3,.3,.4],ue=[1,0,1,1,1,0],xe=["\ubb38\uc11c\ucf54\ub4dc","\ubb38\uc11c\uc81c\ubaa9","\uc791\uc131\uc790","\ubb38\uc11c\ub2e8\uacc4","\ub2f4\ub2f9\uc790","\ubb38\uc11c"],he=[.5,.3,.3,.3,1.5,.5,.5,.5,.5],pe=[1,1,1,1,0,1,0,0,1],Oe=["\ud68c\uc0ac","\uc9c1\uae09","code","\uc791\uc131\uc790","\ub9ac\ubdf0","\ub9ac\ubdf0 \ub0a0\uc9dc","\ub2f5\uae00","\ucca8\ubd80\ud30c\uc77c","Page/Sheet"];n.default=function(e){var n=Object(H.c)(),t=Object(H.d)((function(e){return e.tm})),c=Object(H.d)((function(e){return e.drn})),i=Object(H.d)((function(e){return e.files})),r=Object(H.d)((function(e){return e.work})),o=Object(H.d)((function(e){return e.user})),a=Object(H.d)((function(e){return e.project})),d=Object(I.useState)(!1),s=Object(Y.a)(d,2),l=s[0],j=s[1],b=Object(I.useState)(!1),f=Object(Y.a)(b,2),u=f[0],x=f[1],h=Object(I.useState)(!1),p=Object(Y.a)(h,2),O=p[0],_=p[1],g=Object(I.useState)(-1),m=Object(Y.a)(g,2),y=m[0],w=m[1],v=Object(I.useState)([]),k=Object(Y.a)(v,2),E=k[0],S=k[1],C=Object(I.useState)([]),N=Object(Y.a)(C,2),V=N[0],W=N[1],_e=Object(I.useState)([]),ge=Object(Y.a)(_e,2),me=ge[0],ye=ge[1],we=Object(I.useState)([]),ve=Object(Y.a)(we,2),ke=ve[0],Ee=ve[1],Se=Object(I.useState)(),Ce=Object(Y.a)(Se,2),Fe=Ce[0],Te=Ce[1],$e=Object(I.useState)({}),Me=Object(Y.a)($e,2),Ye=Me[0],ze=Me[1],De=Object(I.useState)({}),Ie=Object(Y.a)(De,2),He=Ie[0],Le=Ie[1],Re=Object(D.b)(),Ae=Re.path,Je=Re.pushHistory,Ne=Object(L.i)().wp_idx,Ve=parseInt(Ne),We=Object(I.useState)(!1),Ze=Object(Y.a)(We,2),Be=Ze[0],Pe=Ze[1],Qe=Object(I.useState)(0),qe=Object(Y.a)(Qe,2),Ge=qe[0],Ke=qe[1],Ue=Object(I.useState)(-1),Xe=Object(Y.a)(Ue,2),en=Xe[0],nn=Xe[1];Object(I.useEffect)((function(){Ae&&(n(Object(R.Hk)(Ve,"DRN")),n(Object(R.Lh)([Ne])),n(Object(R.dg)(Ve)),n(Object(R.Z)("EDMS - \ubb38\uc11c\uad00\ub9ac - \ubb38\uc11c\ud68c\uc2e0 \uc0c1\uc138")),n(Object(R.fg)()),void 0!=i.native_file_list&&0!=i.native_file_list.length||n(Object(R.Qg)()),ye([]),ze({}))}),[Ae]),Object(I.useEffect)((function(){void 0!=t.tm_upload_version_data&&He!={}&&void 0!=He&&n(Object(R.Vj)(He.wp_idx,r.work_docu_list[0].docu_no))}),[t.tm_upload_version_data]),Object(I.useEffect)((function(){if(r.work_docu_list&&r.work_docu_list.length>0){var e,n=[],t=Object(M.a)(r.work_docu_list);try{for(t.s();!(e=t.n()).done;){var c=e.value;n.push({docu_code:c.docu_code,docu_subject:c.docu_subject,create_by:c.create_by,stage_code:c.stage_code,username:c.user_name,button:null})}}catch(i){t.e(i)}finally{t.f()}S([].concat(n)),W(Object($.a)(Object.keys(n[0])))}else r.work_docu_list&&0==r.work_docu_list.length&&S([])}),[r.work_docu_list]),Object(I.useEffect)((function(){if(c.drn_comment_list&&c.drn_comment_list.length>0){var e,n=[],t=Object(M.a)(c.drn_comment_list);try{for(t.s();!(e=t.n()).done;){var i=e.value;n.push({company_name:i.company_name,position_name:i.position_name,code:i.code,create_by:i.create_by,contents:i.contents,review_date:be(i.review_date).format("YYYY-MM-DD"),reply:i.reply,files:i.file_data,page_sheet_no:i.page_sheet_no})}}catch(r){t.e(r)}finally{t.f()}ye([].concat(n)),Ee(Object($.a)(Object.keys(n[0])))}else c.drn_comment_list&&0==c.drn_comment_list.length&&ye([])}),[c.drn_comment_list]),Object(I.useEffect)((function(){r.work_proc_detail!=[]&&r.work_proc_detail&&ze(r.work_proc_detail)}),[r.work_proc_detail]),Object(I.useEffect)((function(){c.create_drn_comment&&n(Object(R.dg)(Ve))}),[c.create_drn_comment]),Object(I.useEffect)((function(){c.create_drn_reply&&(n(Object(R.dg)(Ve)),j(!0),setTimeout((function(){cn(),j(!1),Object(z.j)("\ub2f5\ubcc0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),2e3))}),[c.create_drn_reply]),Object(I.useEffect)((function(){void 0!=Ye.original_tm_id&&Ye!={}&&(Le({}),n(Object(R.Zg)(Ye.original_tm_id)))}),[Ye]),Object(I.useEffect)((function(){r.tm_proc_detail&&void 0!=r.tm_proc_detail&&Le(r.tm_proc_detail)}),[r.tm_proc_detail]),Object(I.useEffect)((function(){if(a.edms_user_list&&a.edms_user_list.length>0){var e=a.edms_user_list.filter((function(e){return e.user_id==o.edms_user_id}));Ke(e[0].company_id)}}),[a.edms_user_list]);var tn=function(e,n){void 0!=n?(Pe(!0),Te(e),1==n?Object(z.j)("\ub2f5\uae00\uc744 \ub2ec \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):0==n&&x(!0)):x(!0)},cn=function(){x(!1),_(!1)},rn=function(e){var n=i.native_file_list.find((function(n){return n.docu_no==r.work_docu_list[e].docu_no}));on(n)},on=function(e){Object(A.m)("http://".concat(window.location.host,"/edms/pdfviewer/").concat(e.file_no,"?page_type=0"))},an=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nn(He.wp_idx),!(r.work_docu_list.length>0)){e.next=8;break}return w(r.work_docu_list[0].docu_no),e.next=5,n(Object(R.Vj)(He.wp_idx,r.work_docu_list[0].docu_no));case 5:setTimeout((function(){_(!0)}),1e3),e.next=9;break;case 8:Object(z.j)("\ub300\uc0c1\ubb38\uc11c\ub97c \ucc3e\uc744 \uc218\uc5c6\uc2b5\ub2c8\ub2e4.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(J.E,{drnDetail:Ye,comment:Fe,isReply:Be,visible:u,onClose:cn}),Object(je.jsx)(J.cb,{visible:O,onClose:cn,file:t.tm_version_file_list,wpIdx:en,docuNo:y}),Object(je.jsxs)(J.O,{children:[Object(je.jsx)(z.g,{open:l,style:{zIndex:1301}}),Object(je.jsxs)(K,{children:[Object(je.jsx)(B,{children:"\ubb38\uc11c\ud68c\uc2e0 \uc0c1\uc138"}),1==He.is_review&&Object(je.jsx)(oe,{onClick:function(){return tn()},children:"\ub9ac\ubdf0 \uc791\uc131"})]}),Object(je.jsxs)(Z,{children:[Object(je.jsxs)(ae,{children:[Object(je.jsxs)(U,{children:[Object(je.jsx)(X,{$boxType:"TM",children:Object(je.jsx)(ee,{children:"TR Information"})}),void 0!=He?Object(je.jsxs)(ne,{children:[Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\ubc30 \ud3ec \ud0c0 \uc785"}),Object(je.jsx)(ie,{children:""===He.wp_type?"-":He.wp_type})]}),Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\uc694 \uccad \uc790"}),Object(je.jsx)(ie,{children:""===He.create_by?"-":He.create_by})]}),Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\ubc1c \uc2e0 \ucc98"}),Object(je.jsx)(ie,{children:""===He.send_company?"-":He.send_company})]}),Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\uc811 \uc218 \ucc98"}),Object(je.jsx)(ie,{children:""===He.receive_company?"-":He.receive_company})]}),Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\uc2dc \uc791 \uc77c"}),Object(je.jsx)(ie,{children:null===He.wp_date?"-":be(He.wp_date).format("YYYY-MM-DD")})]}),Object(je.jsxs)(te,{children:[Object(je.jsx)(ce,{children:"\uc885 \ub8cc \uc77c"}),Object(je.jsx)(ie,{children:null===He.due_data?"-":be(He.due_data).format("YYYY-MM-DD")})]})]}):Object(je.jsx)(ne,{children:Object(je.jsx)("div",{style:{width:"100%",flex:1,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1em"},children:"\ud45c\uc2dc\ud560 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}),He?Object(je.jsxs)(re,{children:[Object(je.jsx)(ce,{style:{width:"20%"},children:"\uc0c1 \uc138 \ub0b4 \uc6a9"}),Object(je.jsx)(ie,{dangerouslySetInnerHTML:{__html:He.explan}})]}):Object(je.jsx)(re,{}),He?Object(je.jsxs)(de,{children:[Object(je.jsx)(se,{onClick:function(){return function(e){void 0!=e?Je("/edms/tm/detail/".concat(e)):Object(z.j)("\ud574\ub2f9 \ubb38\uc11c\ud68c\uc2e0\uc758 TR\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}(He.wp_idx)},children:"\uc0c1\uc138\ubcf4\uae30"}),Object(je.jsx)(se,{onClick:function(){return an()},children:"\ubc84\uc804\uc5c5\ub85c\ub4dc"})]}):Object(je.jsx)(de,{})]}),Object(je.jsxs)(Q,{$margin:"bottom",children:[Object(je.jsx)(G,{children:"\ubc30\ud3ec \ub300\uc0c1 \ubb38\uc11c \ubaa9\ub85d"}),Object(je.jsx)(q,{children:Object(je.jsx)(z.c,{fullData:E,titles:xe,keys:V,values:E,keysWidth:fe,datatype:ue,getCustomEl:function(e,n){if(5===e)return void 0==n||Object(je.jsx)(le.o,{children:Object(je.jsx)(le.i,{children:Object(je.jsx)(le.h,{onClick:function(){return rn(n)},children:"\uc0c1\uc138\ubcf4\uae30"})})})},rowClass:"background-color-white color-light-black",headerClass:"background-dark-sky-blue color-white align-center"})})]})]}),Object(je.jsx)(P,{children:Object(je.jsxs)(Q,{$margin:"left",children:[Object(je.jsx)(G,{$radius:!0,children:"\ubc30\ud3ec \ubb38\uc11c \ub9ac\ube44\uc804\uc758 \uc0ac\uc6a9\uc790 \ub9ac\ubdf0"}),Object(je.jsx)(q,{children:Object(je.jsx)(z.c,{fullData:me,titles:Oe,keys:ke,values:me,keysWidth:he,datatype:pe,getCustomEl:function(e,n){if(4==e&&0!=me.length)return void 0==n||(""!=me[n].contents&&void 0!=me[n].contents?Object(je.jsx)(le.o,{children:Object(je.jsx)("div",{dangerouslySetInnerHTML:{__html:me[n].contents}})}):Object(je.jsx)(le.o,{children:Object(je.jsx)("div",{})}));if(6===e&&0!=me.length&&c.drn_comment_list.length>0){if(void 0==n)return!0;var t=c.drn_comment_list[n].is_reply,i=c.drn_comment_list[n].company_id;return Object(je.jsx)(le.o,{children:1!=t&&Ge!=i&&0!=Ge?Object(je.jsx)(le.i,{children:Object(je.jsx)(le.h,{onClick:function(){return tn(c.drn_comment_list[n],t)},children:"\ub2f5\uae00\ub2ec\uae30"})}):Object(je.jsx)("div",{dangerouslySetInnerHTML:{__html:me[n].reply}})})}return 7===e&&0!=me.length?void 0==n||(me[n].files.length>0?Object(je.jsx)(le.o,{children:me[n].files.map((function(e,n){return Object(je.jsx)(le.m,{children:Object(je.jsx)("a",{target:"_blank",href:e[1],children:e[0]})},n+e[0])}))}):Object(je.jsx)(le.o,{children:Object(je.jsx)("div",{})})):void 0},rowClass:"background-color-white color-light-black",headerClass:"background-dark-sky-blue color-white align-center"})})]})})]})]})]})}}}]);